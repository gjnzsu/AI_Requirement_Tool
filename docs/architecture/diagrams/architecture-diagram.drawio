<mxfile host="65bd71144e" pages="7">
    <diagram name="Architecture Diagram" id="architecture-diagram">
        <mxGraphModel dx="384" dy="391" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="user" value="User" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=14;" parent="1" vertex="1">
                    <mxGeometry x="800" y="20" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="web-ui" value="Web UI&#10;(HTML/CSS/JS)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="800" y="100" width="200" height="80" as="geometry"/>
                </mxCell>
                <mxCell id="flask-app" value="Flask Web Server&#10;(app.py)&#10;&#10;• REST API Endpoints&#10;• Authentication Endpoints&#10;• Conversation Management&#10;• Model Switching" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="800" y="200" width="200" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="auth-middleware" value="Auth Middleware&#10;(@token_required)&#10;&#10;• Token Validation&#10;• Request Interception&#10;• User Context" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="800" y="340" width="200" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="auth-service" value="AuthService&#10;(src/auth/auth_service.py)&#10;&#10;• JWT Generation&#10;• Token Verification&#10;• Password Hashing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="1100" y="340" width="200" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="user-service" value="UserService&#10;(src/auth/user_service.py)&#10;&#10;• User Management&#10;• Authentication&#10;• User Lookup" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="1100" y="460" width="200" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="auth-db" value="Auth Database&#10;(SQLite auth.db)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1100" y="580" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="chatbot" value="Chatbot Core&#10;(src/chatbot.py)&#10;&#10;• Conversation Management&#10;• Response Generation&#10;• Provider Switching&#10;• Error Handling" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="800" y="460" width="200" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="NBUrgZ9KJVTLsQvB_bNu-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;flowAnimation=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" target="jira-tool" edge="1" source="agent">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1000" y="725"/>
                            <mxPoint x="1000" y="1060"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="NBUrgZ9KJVTLsQvB_bNu-10" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;MCP Tooling&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NBUrgZ9KJVTLsQvB_bNu-6" connectable="0" vertex="1">
                    <mxGeometry x="0.8456" y="-2" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="NBUrgZ9KJVTLsQvB_bNu-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;flowAnimation=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" target="llm-router" edge="1" source="agent">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="900" y="830"/>
                            <mxPoint x="290" y="830"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="NBUrgZ9KJVTLsQvB_bNu-8" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;General Chat&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NBUrgZ9KJVTLsQvB_bNu-7" connectable="0" vertex="1">
                    <mxGeometry x="-0.1518" y="2" relative="1" as="geometry">
                        <mxPoint x="-228" y="28" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="LXauNJof73o6HpIqi6Vh-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;flowAnimation=1;" parent="1" source="agent" target="rag-service" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="agent" value="LangGraph Agent&#10;(src/agent/agent_graph.py)&#10;&#10;• Hybrid Intent Detection&#10;  - Keywords → Cache → LLM (IntentDetector)&#10;  - Timeout + Confidence Threshold + Fallback&#10;• Tool Orchestration&#10;• State Management&#10;• Decision Routing&#10;• Coze Agent Integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="800" y="620" width="200" height="210" as="geometry"/>
                </mxCell>
                <mxCell id="edge-intent-llm1" value="Ambiguous / no-match" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;flowAnimation=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="agent" target="intent-detector" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-intent-llm2" value="LLM intent classification" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;flowAnimation=1;" parent="1" source="intent-detector" target="llm-router" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="intent-detector" value="IntentDetector Service&#10;(src/services/intent_detector.py)&#10;&#10;• JSON intent output (+ reasoning)&#10;• Uses conversation context (recent msgs)&#10;• Parses + validates intent/confidence" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="200" y="850" width="240" height="130" as="geometry"/>
                </mxCell>
                <mxCell id="llm-router" value="LLM Router&#10;(src/llm/router.py)&#10;&#10;• Multi-Provider Support&#10;• Fallback Management&#10;• Provider Factory" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="200" y="1000" width="180" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="openai-provider" value="OpenAI Provider&#10;(openai_provider.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="80" y="1120" width="140" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="gemini-provider" value="Gemini Provider&#10;(gemini_provider.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="240" y="1120" width="140" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="deepseek-provider" value="DeepSeek Provider&#10;(deepseek_provider.py)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="400" y="1120" width="140" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="rag-service" value="RAG Service&#10;(src/rag/rag_service.py)&#10;&#10;• Document Loading&#10;• Text Chunking&#10;• Embedding Generation&#10;• Vector Search&#10;• Cache Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="800" y="850" width="180" height="140" as="geometry"/>
                </mxCell>
                <mxCell id="memory-manager" value="Memory Manager&#10;(src/services/memory_manager.py)&#10;&#10;• Conversation Storage&#10;• Message History&#10;• Summarization&#10;• Context Management" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="500" y="460" width="200" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="NBUrgZ9KJVTLsQvB_bNu-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="mcp-integration" target="NBUrgZ9KJVTLsQvB_bNu-3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="mcp-integration" value="MCP Integration&#10;(src/mcp/mcp_integration.py)&#10;&#10;• MCP Client&#10;• Tool Discovery&#10;• Protocol Handling&#10;• Response Parsing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="1400" y="1010" width="200" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="NBUrgZ9KJVTLsQvB_bNu-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jira-tool" edge="1" target="mcp-integration">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="jira-tool" value="Jira Tool&#10;(src/tools/jira_tool.py)&#10;&#10;• Issue Creation&#10;• Issue Management&#10;• API Integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="1200" y="1010" width="200" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="NBUrgZ9KJVTLsQvB_bNu-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="confluence-tool" edge="1" target="mcp-integration">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="NBUrgZ9KJVTLsQvB_bNu-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="confluence-tool" target="confluence-api" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="confluence-tool" value="Confluence Tool&#10;(src/tools/confluence_tool.py)&#10;&#10;• Page Creation&#10;• Content Management&#10;• API Integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="1200" y="1130" width="200" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="jira-evaluator" value="Jira Maturity Evaluator&#10;(src/services/jira_maturity_evaluator.py)&#10;&#10;• Requirement Analysis&#10;• Maturity Scoring&#10;• Recommendations" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="1200" y="1250" width="200" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="openai-api" value="OpenAI API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="80" y="1200" width="140" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="gemini-api" value="Google Gemini API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="240" y="1200" width="140" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="deepseek-api" value="DeepSeek API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="400" y="1200" width="140" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="vector-db" value="Vector Database&#10;(SQLite + Embeddings)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="800" y="1010" width="180" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="memory-db" value="Memory Database&#10;(SQLite)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="500" y="600" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="jira-api" value="Jira API&#10;(Atlassian)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1400" y="1250" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="confluence-api" value="Confluence API&#10;(Atlassian)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1400" y="1310" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="qIZVnxX9wtbSYXflaPhP-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="coze-client" target="coze-api" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="coze-client" value="Coze Client Service&#10;(src/services/coze_client.py)&#10;&#10;• SDK Integration&#10;• Streaming API&#10;• Error Handling&#10;• Authentication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" parent="1" vertex="1">
                    <mxGeometry x="200" y="620" width="200" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="coze-api" value="Coze Platform API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="200" y="760" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="mcp-server" value="Self-built MCP Server&lt;br&gt;(Jira MCP Server)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1700" y="1010" width="200" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="edge1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="user" target="web-ui" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="web-ui" target="flask-app" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="flask-app" target="auth-middleware" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge3a" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="auth-middleware" target="chatbot" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-auth1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="auth-middleware" target="auth-service" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-auth2" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="auth-middleware" target="user-service" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-auth3" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="user-service" target="auth-db" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge4" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="chatbot" target="agent" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge6" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="chatbot" target="memory-manager" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge7" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;flowAnimation=1;" parent="1" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="960" y="879" as="sourcePoint"/>
                        <mxPoint x="960" y="879" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="edge9" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="llm-router" target="openai-provider" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge10" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="llm-router" target="gemini-provider" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge11" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="llm-router" target="deepseek-provider" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge12" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="openai-provider" target="openai-api" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="gemini-provider" target="gemini-api" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge14" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="deepseek-provider" target="deepseek-api" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge15" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="rag-service" target="vector-db" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge16" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="memory-manager" target="memory-db" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="mcp-integration" target="mcp-server" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" parent="1" source="jira-evaluator" target="jira-api" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-coze1" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;exitX=0;exitY=0.5;exitDx=0;exitDy=0;flowAnimation=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="agent" target="coze-client" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="edge-coze-label" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;Coze Agent&lt;/font&gt;" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="edge-coze1" connectable="0" vertex="1">
                    <mxGeometry x="0.1" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="legend-title" value="Architecture Components" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" parent="1" vertex="1">
                    <mxGeometry x="40" y="40" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-ui" value="User Interface Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="40" y="80" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-app" value="Application Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="40" y="120" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-core" value="Core Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="40" y="160" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-auth" value="Authentication Layer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="40" y="200" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-agent" value="LangGraph Agentic Framework" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" parent="1" vertex="1">
                    <mxGeometry x="40" y="240" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="legend-external" value="External Services" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;fontStyle=2;" parent="1" vertex="1">
                    <mxGeometry x="40" y="280" width="140" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="NBUrgZ9KJVTLsQvB_bNu-3" value="Atlassian Offical MCP Server&lt;br&gt;(Confluence MCP Server)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" parent="1" vertex="1">
                    <mxGeometry x="1700" y="1090" width="200" height="60" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="KPTJEU6j50dDuT6DsHEC" name="arch_overview_mermaid">
        <mxGraphModel dx="1554" dy="823" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-1" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Data Layer" vertex="1">
                    <mxGeometry height="462" width="298" x="1949" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-2" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="External Services" vertex="1">
                    <mxGeometry height="313" width="549" x="1949" y="502" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-3" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Capabilities" vertex="1">
                    <mxGeometry height="617" width="243" x="1655" y="177" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-4" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intelligence Layer" vertex="1">
                    <mxGeometry height="538" width="460" x="1030" y="188" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-5" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Application Layer" vertex="1">
                    <mxGeometry height="408" width="417" x="563" y="106" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-6" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="User Layer" vertex="1">
                    <mxGeometry height="124" width="431" x="20" y="371" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-7" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ User" vertex="1">
                    <mxGeometry height="54" width="115" x="45" y="406" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-8" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Web Browser" vertex="1">
                    <mxGeometry height="54" width="178" x="248" y="406" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-9" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Flask Web App" vertex="1">
                    <mxGeometry height="54" width="163" x="588" y="406" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-10" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Chatbot Core" vertex="1">
                    <mxGeometry height="54" width="155" x="800" y="406" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-11" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LangGraph Agent" vertex="1">
                    <mxGeometry height="54" width="182" x="1055" y="447" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-12" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent Detection" vertex="1">
                    <mxGeometry height="54" width="178" x="1287" y="576" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-13" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Multi-Provider LLM" vertex="1">
                    <mxGeometry height="54" width="193" x="1680" y="429" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-14" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="RAG Service" vertex="1">
                    <mxGeometry height="54" width="146" x="1704" y="533" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-15" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Tools&#10;Jira/Confluence" vertex="1">
                    <mxGeometry height="78" width="176" x="1689" y="647" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-16" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Memory Manager" vertex="1">
                    <mxGeometry height="54" width="181" x="1687" y="212" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-17" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LLM APIs&#10;OpenAI/Gemini/DeepSeek" vertex="1">
                    <mxGeometry height="78" width="248" x="1974" y="572" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-18" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Atlassian&#10;Jira/Confluence" vertex="1">
                    <mxGeometry height="78" width="176" x="2297" y="678" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-19" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Server" vertex="1">
                    <mxGeometry height="54" width="140" x="2028" y="720" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-20" parent="1" style="shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=10;strokeWidth=2;whiteSpace=wrap;" value="Memory DB" vertex="1">
                    <mxGeometry height="71" width="95" x="2050" y="55" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-21" parent="1" style="shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=10;strokeWidth=2;whiteSpace=wrap;" value="Vector Store" vertex="1">
                    <mxGeometry height="73" width="104" x="2046" y="176" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-22" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Configuration" vertex="1">
                    <mxGeometry height="54" width="157" x="2019" y="314" as="geometry"/>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-23" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-7" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.49;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-8" value="HTTP">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-24" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-8" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.49;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-9" value="REST API">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-25" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-9" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.49;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-10" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-26" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-10" style="curved=1;startArrow=none;endArrow=block;exitX=0.94;exitY=0.99;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-11" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="980" y="474"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-27" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-11" style="curved=1;startArrow=none;endArrow=block;exitX=0.63;exitY=0.99;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-12" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1262" y="603"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-28" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.62;exitY=-0.01;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-13" value="General Chat">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1490" y="456"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-29" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.9;exitY=-0.01;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-14" value="RAG Query">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1490" y="560"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-30" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.71;exitY=0.99;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-15" value="Jira/Confluence">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1490" y="686"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-31" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-13" style="curved=1;startArrow=none;endArrow=block;exitX=0.67;exitY=1;entryX=0.05;entryY=0;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-17" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1899" y="559"/>
                            <mxPoint x="1949" y="559"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-32" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-14" style="curved=1;startArrow=none;endArrow=block;exitX=0.61;exitY=0;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-21" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1899" y="353"/>
                            <mxPoint x="1924" y="213"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-33" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-14" style="curved=1;startArrow=none;endArrow=block;exitX=0.85;exitY=1;entryX=0;entryY=0.63;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-17" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1899" y="624"/>
                            <mxPoint x="1949" y="624"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-34" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-15" style="curved=1;startArrow=none;endArrow=block;exitX=0.94;exitY=1;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-19" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1899" y="747"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-35" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-15" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.49;entryX=0;entryY=0.18;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-18" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1899" y="685"/>
                            <mxPoint x="2272" y="685"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-36" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-19" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0;entryY=0.8;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-18" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2272" y="747"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-37" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-11" style="curved=1;startArrow=none;endArrow=block;exitX=0.57;exitY=-0.01;entryX=0;entryY=0.51;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-16" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1262" y="239"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-38" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-16" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.51;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-20" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1899" y="239"/>
                            <mxPoint x="1924" y="91"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-39" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-10" style="curved=1;startArrow=none;endArrow=block;exitX=0.57;exitY=-0.01;entryX=0.08;entryY=-0.01;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-22" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="980" y="157"/>
                            <mxPoint x="1899" y="157"/>
                            <mxPoint x="1924" y="280"/>
                            <mxPoint x="1949" y="280"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-40" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-13" style="curved=1;startArrow=none;endArrow=block;exitX=0.98;exitY=0;entryX=0.18;entryY=0.99;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-22" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1899" y="420"/>
                            <mxPoint x="1949" y="420"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="vT_12q0g2CJxtKnM4bh_-41" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-15" style="curved=1;startArrow=none;endArrow=block;exitX=0.61;exitY=0;entryX=0.24;entryY=0.99;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-22" value="">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1899" y="440"/>
                            <mxPoint x="1949" y="440"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="yTYUuDoqOAll0RWlUUXM" name="request_flow_sequence_mermaid">
        <mxGraphModel dx="1943" dy="1029" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="EviRF4KwLwFpopbQSHSw-1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="User" vertex="1">
                    <mxGeometry height="2024" width="150" x="20" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="WebUI" vertex="1">
                    <mxGeometry height="2024" width="150" x="220" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="FlaskApp" vertex="1">
                    <mxGeometry height="2024" width="150" x="420" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Chatbot" vertex="1">
                    <mxGeometry height="2024" width="150" x="667" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Agent" vertex="1">
                    <mxGeometry height="2024" width="150" x="916" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-6" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="IntentDetect" vertex="1">
                    <mxGeometry height="2024" width="150" x="1116" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-7" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="LLMRouter" vertex="1">
                    <mxGeometry height="2024" width="150" x="1316" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-8" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="RAGService" vertex="1">
                    <mxGeometry height="2024" width="150" x="1516" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-9" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Tools" vertex="1">
                    <mxGeometry height="2024" width="150" x="1716" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-10" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="MemoryMgr" vertex="1">
                    <mxGeometry height="2024" width="150" x="1916" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-11" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="ExternalAPIs" vertex="1">
                    <mxGeometry height="2024" width="150" x="2116" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-12" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="1238" width="1222" x="980" y="375" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-13" parent="EviRF4KwLwFpopbQSHSw-12" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Intent: General Chat]" vertex="1">
                    <mxGeometry height="20" width="1192" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-14" parent="EviRF4KwLwFpopbQSHSw-12" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: RAG Query]" vertex="1">
                    <mxGeometry height="3" width="1222" y="277" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-15" parent="EviRF4KwLwFpopbQSHSw-12" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: Jira/Confluence Creation]" vertex="1">
                    <mxGeometry height="3" width="1222" y="747" as="geometry"/>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-16" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-2" value="Send Message">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="204" y="131"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-17" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-3" value="POST /api/chat">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="404" y="187"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-18" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-4" value="get_response(message)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="627" y="243"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-19" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Process with LangGraph">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="875" y="299"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-20" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-6" value="Detect Intent">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1100" y="355"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-21" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Route to LLM">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1300" y="459"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-22" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-11" value="Call LLM Provider">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1800" y="515"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-23" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-11" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1803" y="571"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-24" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Generated Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1203" y="627"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-25" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-8" value="Retrieve Context">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1400" y="731"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-26" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-8" style="curved=1;endArrow=block;rounded=0;" target="EviRF4KwLwFpopbQSHSw-8" value="Search Vector Store">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1642" y="787"/>
                            <mxPoint x="1642" y="817"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-27" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Relevant Context">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1303" y="873"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-28" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Generate with Context">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1200" y="929"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-29" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-11" value="Call LLM Provider">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1800" y="985"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-30" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-11" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1803" y="1041"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-31" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Contextual Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1203" y="1097"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-32" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-9" value="Execute Tool">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1500" y="1201"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-33" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-9" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-11" value="MCP or Direct API">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2000" y="1257"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-34" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-11" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-9" value="Result">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2003" y="1313"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-35" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-9" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Tool Result">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1403" y="1369"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-36" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Format Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1200" y="1425"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-37" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-11" value="Call LLM Provider">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1800" y="1481"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-38" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-11" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Formatted Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1803" y="1537"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-39" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Final Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1203" y="1593"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-40" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-10" value="Save Conversation">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1500" y="1659"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-41" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-10" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Saved">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1503" y="1715"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-42" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-4" value="Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="878" y="1771"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-43" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-3" value="Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="630" y="1827"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-44" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-2" value="JSON Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="407" y="1883"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EviRF4KwLwFpopbQSHSw-45" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-1" value="Display Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="207" y="1939"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="fyViqYSo0T4jaL0SxEEt" name="arch_design_diagram_mermaid">
        <mxGraphModel dx="1828" dy="968" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-1" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Data Storage" vertex="1">
                    <mxGeometry height="152" width="1729" x="20" y="2364" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-2" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ External Services" vertex="1">
                    <mxGeometry height="378" width="1296" x="2972" y="2138" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-3" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ RAG Components" vertex="1">
                    <mxGeometry height="683" width="624" x="288" y="1607" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-4" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ LLM Layer" vertex="1">
                    <mxGeometry height="329" width="941" x="2011" y="1961" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-5" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Tool Layer" vertex="1">
                    <mxGeometry height="128" width="768" x="3502" y="1607" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-6" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="⚙️ Service Layer" vertex="1">
                    <mxGeometry height="305" width="1892" x="932" y="1430" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-7" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Agent Layer" vertex="1">
                    <mxGeometry height="528" width="3162" x="1057" y="828" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-8" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Application Layer" vertex="1">
                    <mxGeometry height="280" width="1880" x="174" y="474" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-9" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ User Interface Layer" vertex="1">
                    <mxGeometry height="280" width="255" x="1172" y="120" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-10" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Web UI&#10;(Flask Templates)" vertex="1">
                    <mxGeometry height="78" width="185" x="1207" y="145" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-11" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="REST API&#10;(Flask Routes)" vertex="1">
                    <mxGeometry height="78" width="160" x="1219" y="297" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-12" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Flask Application&#10;(app.py)" vertex="1">
                    <mxGeometry height="78" width="181" x="1209" y="499" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-13" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Chatbot Class&#10;(chatbot.py)" vertex="1">
                    <mxGeometry height="78" width="157" x="1220" y="651" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-14" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LangGraph Agent&#10;(agent_graph.py)" vertex="1">
                    <mxGeometry height="78" width="183" x="1890" y="853" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-15" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent Detection&#10;(general_chat, jira_creation,&#10;rag_query, confluence_creation)" vertex="1">
                    <mxGeometry height="150" width="260" x="3622" y="1005" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-16" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Agent Router&#10;(Routes to appropriate handler)" vertex="1">
                    <mxGeometry height="102" width="260" x="3622" y="1229" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-17" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="RAG Service&#10;(rag_service.py)" vertex="1">
                    <mxGeometry height="78" width="176" x="1009" y="1455" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-18" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Memory Manager&#10;(memory_manager.py)" vertex="1">
                    <mxGeometry height="78" width="220" x="1402" y="1632" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-19" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Memory Summarizer&#10;(memory_summarizer.py)" vertex="1">
                    <mxGeometry height="78" width="242" x="1235" y="1455" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-20" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Integration&#10;(mcp_integration.py)" vertex="1">
                    <mxGeometry height="78" width="212" x="1667" y="1455" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-21" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Client Manager&#10;(mcp_client.py)" vertex="1">
                    <mxGeometry height="78" width="202" x="1672" y="1632" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-22" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Jira Maturity Evaluator&#10;(jira_maturity_evaluator.py)" vertex="1">
                    <mxGeometry height="78" width="264" x="2472" y="1632" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-23" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Jira Tool&#10;(jira_tool.py)" vertex="1">
                    <mxGeometry height="78" width="156" x="3537" y="1632" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-24" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Confluence Tool&#10;(confluence_tool.py)" vertex="1">
                    <mxGeometry height="78" width="210" x="4025" y="1632" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-25" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Tool Wrappers&#10;(LangChain Compatible)" vertex="1">
                    <mxGeometry height="78" width="232" x="3743" y="1632" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-26" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LLM Router&#10;(router.py)" vertex="1">
                    <mxGeometry height="78" width="140" x="2194" y="1986" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-27" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="OpenAI Provider&#10;(openai_provider.py)" vertex="1">
                    <mxGeometry height="78" width="209" x="2172" y="2175" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-28" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Gemini Provider&#10;(gemini_provider.py)" vertex="1">
                    <mxGeometry height="78" width="209" x="2430" y="2175" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-29" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="DeepSeek Provider&#10;(deepseek_provider.py)" vertex="1">
                    <mxGeometry height="78" width="228" x="2689" y="2175" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-30" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Document Loader&#10;(document_loader.py)" vertex="1">
                    <mxGeometry height="78" width="218" x="442" y="1632" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-31" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Text Chunker&#10;(text_chunker.py)" vertex="1">
                    <mxGeometry height="78" width="187" x="360" y="1809" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-32" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Embedding Generator&#10;(embedding_generator.py)" vertex="1">
                    <mxGeometry height="78" width="250" x="328" y="1986" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-33" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Vector Store&#10;(vector_store.py - ChromaDB)" vertex="1">
                    <mxGeometry height="102" width="260" x="323" y="2163" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-34" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="RAG Cache&#10;(rag_cache.py)" vertex="1">
                    <mxGeometry height="78" width="167" x="710" y="1632" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-35" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="OpenAI API" vertex="1">
                    <mxGeometry height="54" width="138" x="3007" y="2413" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-36" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Google Gemini API" vertex="1">
                    <mxGeometry height="54" width="192" x="3195" y="2413" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-37" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="DeepSeek API" vertex="1">
                    <mxGeometry height="54" width="156" x="3436" y="2413" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-38" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Jira API&#10;(Atlassian)" vertex="1">
                    <mxGeometry height="78" width="135" x="3643" y="2401" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-39" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Confluence API&#10;(Atlassian)" vertex="1">
                    <mxGeometry height="78" width="167" x="4066" y="2401" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-40" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Server&#10;(Jira/Confluence)" vertex="1">
                    <mxGeometry height="78" width="187" x="3765" y="2175" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-41" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Memory Database&#10;(SQLite - chatbot_memory.db)" vertex="1">
                    <mxGeometry height="102" width="260" x="55" y="2389" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-42" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Vector Database&#10;(ChromaDB)" vertex="1">
                    <mxGeometry height="78" width="176" x="365" y="2401" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-43" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Configuration&#10;(config.py + .env)" vertex="1">
                    <mxGeometry height="78" width="187" x="1066" y="2401" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-44" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Document Storage&#10;(data/ folder)" vertex="1">
                    <mxGeometry height="78" width="191" x="1523" y="2401" as="geometry"/>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-45" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-10" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-11" value="HTTP Request">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-46" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-11" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-12" value="Initialize">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-47" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-13" value="Create Instance">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-48" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-13" style="curved=1;startArrow=none;endArrow=block;exitX=1.01;exitY=0.59;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-14" value="Use Agent">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1982" y="754"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-49" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.55;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-15" value="Detect Intent">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3752" y="968"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-50" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-15" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-16" value="Route">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-51" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-16" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.61;entryX=0.45;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-26" value="General Chat">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2891" y="1356"/>
                            <mxPoint x="2891" y="1735"/>
                            <mxPoint x="2253" y="1772"/>
                            <mxPoint x="2253" y="1961"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-52" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-16" style="curved=1;startArrow=none;endArrow=block;exitX=0.15;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-23" value="Jira Creation">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3615" y="1356"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-53" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-16" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.76;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-24" value="Confluence Creation">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="4130" y="1356"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-54" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-16" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.54;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-17" value="RAG Query">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1097" y="1356"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-55" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.69;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-18" value="Memory Operations">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1512" y="968"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-56" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.64;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-19" value="Summarize">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1356" y="968"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-57" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.93;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-20" value="Tool Integration">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1773" y="968"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-58" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-20" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-21" value="Manage Clients">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-59" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-20" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.61;entryX=0;entryY=0.42;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-25" value="Wrap Tools">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2715" y="1570"/>
                            <mxPoint x="2715" y="1607"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-60" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-23" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.13;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-38" value="Fallback">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3615" y="2364"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-61" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-24" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.44;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-39" value="Fallback">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="4130" y="2364"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-62" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-25" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-40" value="Primary">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-63" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-40" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.99;entryX=0.35;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-38" value="Proxy">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="3672" y="2290"/>
                            <mxPoint x="3672" y="2364"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-64" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-40" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.78;entryX=0.62;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-39" value="Proxy">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="4189" y="2290"/>
                            <mxPoint x="4189" y="2364"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-65" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-17" style="curved=1;startArrow=none;endArrow=block;exitX=0.31;exitY=1;entryX=1;entryY=0.31;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-30" value="Load Documents">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1033" y="1570"/>
                            <mxPoint x="1033" y="1607"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-66" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-30" style="curved=1;startArrow=none;endArrow=block;exitX=0.85;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-44" value="Read Files">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="674" y="1735"/>
                            <mxPoint x="674" y="2290"/>
                            <mxPoint x="1618" y="2327"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-67" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-30" style="curved=1;startArrow=none;endArrow=block;exitX=0.23;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-31" value="Chunk Text">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="453" y="1735"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-68" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-31" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-32" value="Generate Embeddings">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-69" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-32" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.94;entryX=0;entryY=0.43;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-27" value="Query LLM">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="732" y="2101"/>
                            <mxPoint x="732" y="2138"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-70" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-32" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-33" value="Store Embeddings">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-71" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-33" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-42" value="Persist">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-72" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-17" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=1;entryX=1;entryY=0.36;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-34" value="Cache Results">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1270" y="1570"/>
                            <mxPoint x="1270" y="1607"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-73" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-26" style="curved=1;startArrow=none;endArrow=block;exitX=0.54;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-27" value="Route Request">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2276" y="2101"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-74" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-26" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.75;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-28" value="Route Request">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2535" y="2101"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-75" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-26" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.63;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-29" value="Route Request">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2803" y="2101"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-76" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-27" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-35" value="API Call">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2276" y="2290"/>
                            <mxPoint x="3076" y="2327"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-77" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-28" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-36" value="API Call">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2535" y="2290"/>
                            <mxPoint x="3291" y="2327"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-78" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-29" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-37" value="API Call">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2803" y="2290"/>
                            <mxPoint x="3515" y="2327"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-79" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.64;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-22" value="Evaluate">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2604" y="968"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-80" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-22" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.7;entryX=1;entryY=0.38;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-26" value="Use LLM">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2052" y="1735"/>
                            <mxPoint x="2733" y="1772"/>
                            <mxPoint x="2733" y="1961"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-81" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-22" style="curved=1;startArrow=none;endArrow=block;exitX=0.62;exitY=1;entryX=0.57;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-38" value="Query Jira">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2657" y="1735"/>
                            <mxPoint x="3730" y="1772"/>
                            <mxPoint x="3730" y="2364"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-82" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-18" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-41" value="Read/Write">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1512" y="1735"/>
                            <mxPoint x="185" y="1772"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-83" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-13" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.56;entryX=0;entryY=0.34;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-43" value="Load Config">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="257" y="754"/>
                            <mxPoint x="257" y="2290"/>
                            <mxPoint x="591" y="2327"/>
                            <mxPoint x="591" y="2364"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-84" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-21" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.97;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-43" value="Load Config">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1773" y="2290"/>
                            <mxPoint x="1330" y="2327"/>
                            <mxPoint x="1330" y="2364"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fqqK1VO9HoPc-71TpEGH-85" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-26" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.9;entryX=1;entryY=0.26;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-43" value="Load Config">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2095" y="2101"/>
                            <mxPoint x="2095" y="2290"/>
                            <mxPoint x="1543" y="2327"/>
                            <mxPoint x="1543" y="2364"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="I5BgVuwCcVvqrSMmDwWr" name="authn_&amp;_anthz_sequence_diagram">
        <mxGraphModel dx="2109" dy="968" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="p5ackhj51L5jaJd7qhPY-1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="User" vertex="1">
                    <mxGeometry height="7241" width="150" x="20" y="150" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Frontend&#10;(Browser)" vertex="1">
                    <mxGeometry height="7241" width="150" x="298" y="150" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Flask App&#10;(app.py)" vertex="1">
                    <mxGeometry height="7241" width="150" x="663" y="150" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Auth Middleware&#10;(@token_required)" vertex="1">
                    <mxGeometry height="7241" width="161" x="1023" y="150" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="AuthService&#10;(JWT Operations)" vertex="1">
                    <mxGeometry height="7241" width="150" x="1418" y="150" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-6" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="UserService&#10;(User Management)" vertex="1">
                    <mxGeometry height="7241" width="166" x="1810" y="150" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-7" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="SQLite DB&#10;(auth.db)" vertex="1">
                    <mxGeometry height="7241" width="150" x="2196" y="150" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-8" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="957" width="1820" x="84" y="860" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-9" parent="p5ackhj51L5jaJd7qhPY-8" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Password Valid]" vertex="1">
                    <mxGeometry height="20" width="1790" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-10" parent="p5ackhj51L5jaJd7qhPY-8" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Password Invalid]" vertex="1">
                    <mxGeometry height="3" width="1820" y="723" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-11" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="696" width="1133" x="84" y="3993" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-12" parent="p5ackhj51L5jaJd7qhPY-11" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[User Not Found/Inactive]" vertex="1">
                    <mxGeometry height="20" width="1103" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-13" parent="p5ackhj51L5jaJd7qhPY-11" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[User Found and Active]" vertex="1">
                    <mxGeometry height="3" width="1133" y="244" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-14" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="1438" width="2208" x="74" y="3261" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-15" parent="p5ackhj51L5jaJd7qhPY-14" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Token Invalid/Expired]" vertex="1">
                    <mxGeometry height="20" width="2178" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-16" parent="p5ackhj51L5jaJd7qhPY-14" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Token Valid]" vertex="1">
                    <mxGeometry height="3" width="2208" y="409" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-17" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="1963" width="2228" x="64" y="2746" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-18" parent="p5ackhj51L5jaJd7qhPY-17" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Token Missing]" vertex="1">
                    <mxGeometry height="20" width="2198" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-19" parent="p5ackhj51L5jaJd7qhPY-17" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Token Present]" vertex="1">
                    <mxGeometry height="3" width="2228" y="330" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-20" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="2458" width="2248" x="54" y="2261" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-21" parent="p5ackhj51L5jaJd7qhPY-20" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Auth Not Configured]" vertex="1">
                    <mxGeometry height="20" width="2218" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-22" parent="p5ackhj51L5jaJd7qhPY-20" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Auth Configured]" vertex="1">
                    <mxGeometry height="3" width="2248" y="244" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-23" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="362" width="375" x="84" y="6934" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-24" parent="p5ackhj51L5jaJd7qhPY-23" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[401 Response Received]" vertex="1">
                    <mxGeometry height="20" width="345" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-25" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="Enter username &amp; password">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="243" y="309"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-26" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="POST /api/auth/login&#10;{username, password}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="564" y="388"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-27" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-3" value="Validate request JSON">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="789" y="444"/>
                            <mxPoint x="789" y="474"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-28" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="authenticate_user(username, password)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1324" y="530"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-29" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-7" value="SELECT user WHERE username=?">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2091" y="586"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-30" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="User record (with password_hash)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2094" y="642"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-31" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="verify_password(password, password_hash)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1705" y="698"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-32" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="bcrypt.checkpw()">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1544" y="754"/>
                            <mxPoint x="1544" y="784"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-33" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="Password valid (true/false)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1702" y="840"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-34" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="User object (without password_hash)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1327" y="944"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-35" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="generate_token(user_id, username)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1124" y="1000"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-36" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="Create JWT payload&#10;{user_id, username, exp, iat}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1544" y="1079"/>
                            <mxPoint x="1544" y="1109"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-37" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="jwt.encode(payload, secret_key, HS256)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1544" y="1165"/>
                            <mxPoint x="1544" y="1195"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-38" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="JWT Token">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1127" y="1251"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-39" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="200 OK&#10;{token, user}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="567" y="1330"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-40" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="localStorage.setItem('token', token)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="1386"/>
                            <mxPoint x="424" y="1416"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-41" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="localStorage.setItem('user', user)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="1472"/>
                            <mxPoint x="424" y="1502"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-42" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Login successful">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="1558"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-43" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="None">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1327" y="1662"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-44" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="401 Unauthorized&#10;{error: &quot;Invalid username or password&quot;}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="567" y="1741"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-45" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Login failed">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="1797"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-46" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="Request protected resource&#10;(e.g., POST /api/chat)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="243" y="1934"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-47" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Check localStorage for token">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="1990"/>
                            <mxPoint x="424" y="2020"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-48" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="Request with&#10;Authorization: Bearer {token}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="564" y="2099"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-49" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="@token_required decorator intercepts">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="929" y="2155"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-50" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-4" value="Check if auth services available">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1154" y="2211"/>
                            <mxPoint x="1154" y="2241"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-51" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="503 Service Unavailable&#10;{error: &quot;Authentication not configured&quot;}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="932" y="2368"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-52" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="503 Error">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="567" y="2424"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-53" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Authentication error">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="2480"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-54" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="extract_token_from_header(Authorization)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1307" y="2584"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-55" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="Parse &quot;Bearer {token}&quot;">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1544" y="2640"/>
                            <mxPoint x="1544" y="2670"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-56" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="Token string">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1310" y="2726"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-57" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="401 Unauthorized&#10;{error: &quot;Authentication required&quot;}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="932" y="2853"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-58" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="401 Error">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="567" y="2909"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-59" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Redirect to /login">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="2965"/>
                            <mxPoint x="424" y="2995"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-60" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Please login">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="3051"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-61" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="verify_token(token)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1307" y="3155"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-62" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="jwt.decode(token, secret_key, HS256)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1544" y="3211"/>
                            <mxPoint x="1544" y="3241"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-63" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="None (token invalid)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1310" y="3345"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-64" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="401 Unauthorized&#10;{error: &quot;Invalid or expired token&quot;}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="932" y="3424"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-65" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="401 Error">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="567" y="3480"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-66" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Clear localStorage&#10;Redirect to /login">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="3559"/>
                            <mxPoint x="424" y="3589"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-67" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Session expired">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="3645"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-68" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="Payload {user_id, username, exp, iat}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1310" y="3749"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-69" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="get_user_by_id(user_id)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1507" y="3805"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-70" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-7" value="SELECT user WHERE id=? AND is_active=1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2091" y="3861"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-71" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="User record">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="2094" y="3917"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-72" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="User object">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1510" y="3973"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-73" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="401 Unauthorized&#10;{error: &quot;User not found or inactive&quot;}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="932" y="4100"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-74" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="401 Error">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="567" y="4156"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-75" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Access denied">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="4212"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-76" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-4" value="Attach user to request&#10;request.current_user = user">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1154" y="4339"/>
                            <mxPoint x="1154" y="4369"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-77" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="Continue to route handler">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="932" y="4425"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-78" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-3" value="Process request&#10;(e.g., chat endpoint)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="789" y="4504"/>
                            <mxPoint x="789" y="4534"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-79" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="200 OK&#10;{response data}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="567" y="4613"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-80" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Success response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="4669"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-81" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="Request user info&#10;(GET /api/auth/me)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="243" y="4836"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-82" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="GET /api/auth/me&#10;Authorization: Bearer {token}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="564" y="4915"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-83" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="@token_required decorator">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="929" y="4971"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-84" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="verify_token(token)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1307" y="5027"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-85" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="Valid payload">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1310" y="5083"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-86" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="get_user_by_id(user_id)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1507" y="5139"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-87" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="User object">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1510" y="5195"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-88" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-4" value="request.current_user = user">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1154" y="5251"/>
                            <mxPoint x="1154" y="5281"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-89" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="Continue">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="932" y="5337"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-90" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-3" value="get_current_user()">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="789" y="5393"/>
                            <mxPoint x="789" y="5423"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-91" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-3" value="Return request.current_user">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="789" y="5479"/>
                            <mxPoint x="789" y="5509"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-92" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="200 OK&#10;{user: {...}}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="567" y="5588"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-93" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Update localStorage with user info">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="5644"/>
                            <mxPoint x="424" y="5674"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-94" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="User information displayed">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="5730"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-95" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="Click logout">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="243" y="5834"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-96" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="POST /api/auth/logout&#10;Authorization: Bearer {token}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="564" y="5913"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-97" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="@token_required decorator">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="929" y="5969"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-98" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="verify_token(token)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1307" y="6025"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-99" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="Valid payload">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1310" y="6081"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-100" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="get_user_by_id(user_id)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1507" y="6137"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-101" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="User object">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1510" y="6193"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-102" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="Continue">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="932" y="6249"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-103" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="200 OK&#10;{success: true, message: &quot;Logged out&quot;}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="567" y="6328"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-104" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="localStorage.removeItem('token')">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="6384"/>
                            <mxPoint x="424" y="6414"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-105" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="localStorage.removeItem('user')">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="6470"/>
                            <mxPoint x="424" y="6500"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-106" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="window.location.href = '/login'">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="6556"/>
                            <mxPoint x="424" y="6586"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-107" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Redirected to login page">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="6642"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-108" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Override window.fetch()&#10;Add Authorization header if token exists">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="6836"/>
                            <mxPoint x="424" y="6866"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-109" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Detect 401 status">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="7018"/>
                            <mxPoint x="424" y="7048"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-110" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Clear localStorage">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="7104"/>
                            <mxPoint x="424" y="7134"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-111" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Redirect to /login">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="424" y="7190"/>
                            <mxPoint x="424" y="7220"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-112" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Session expired notification">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="7276"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-113" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== LOGIN FLOW ==========" vertex="1">
                    <mxGeometry height="48" width="2226" x="70" y="225" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-114" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== PROTECTED ENDPOINT ACCESS ==========" vertex="1">
                    <mxGeometry height="48" width="2226" x="70" y="1827" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-115" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== GET CURRENT USER INFO ==========" vertex="1">
                    <mxGeometry height="48" width="2226" x="70" y="4729" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-116" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== LOGOUT FLOW ==========" vertex="1">
                    <mxGeometry height="48" width="2226" x="70" y="5750" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-117" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== AUTO-TOKEN INJECTION ==========" vertex="1">
                    <mxGeometry height="48" width="2226" x="70" y="6662" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-118" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Frontend automatically adds token&#10;to all /api/* requests (except /api/auth/login)" vertex="1">
                    <mxGeometry height="67" width="351" x="198" y="6710" as="geometry"/>
                </mxCell>
                <mxCell id="p5ackhj51L5jaJd7qhPY-119" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== ERROR HANDLING ==========" vertex="1">
                    <mxGeometry height="48" width="2226" x="70" y="6886" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="SP40UGb1rlbrNN1btHVa" name="user_login_flow_diagram">
        <mxGraphModel dx="1793" dy="823" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-62" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="User" vertex="1">
                    <mxGeometry height="1192" width="150" x="50" y="330" as="geometry"/>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-63" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Frontend" vertex="1">
                    <mxGeometry height="1192" width="150" x="346" y="330" as="geometry"/>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-64" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Flask App" vertex="1">
                    <mxGeometry height="1192" width="150" x="697" y="330" as="geometry"/>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-65" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="UserService" vertex="1">
                    <mxGeometry height="1192" width="150" x="1068" y="330" as="geometry"/>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-66" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="AuthService" vertex="1">
                    <mxGeometry height="1192" width="150" x="1387" y="330" as="geometry"/>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-67" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Database" vertex="1">
                    <mxGeometry height="1192" width="150" x="1587" y="330" as="geometry"/>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-68" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="630" width="1359" x="114" y="797" as="geometry"/>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-69" parent="EZzGvkTzl0ZU9KsnqAzF-68" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Password Valid]" vertex="1">
                    <mxGeometry height="20" width="1329" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-70" parent="EZzGvkTzl0ZU9KsnqAzF-68" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Password Invalid]" vertex="1">
                    <mxGeometry height="3" width="1359" y="419" as="geometry"/>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-71" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-62" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-63" value="Enter username and password">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="282" y="441"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-72" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-63" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-64" value="POST /api/auth/login with credentials">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="605" y="497"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-73" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-64" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-65" value="authenticate_user(username, password)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="966" y="553"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-74" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-65" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-67" value="SELECT user WHERE username">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1411" y="609"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-75" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-67" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-65" value="User record">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1414" y="665"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-76" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-65" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-66" value="verify_password(password, hash)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1311" y="721"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-77" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-66" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-65" value="Password valid">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1314" y="777"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-78" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-65" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-64" value="User object">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="969" y="881"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-79" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-64" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-66" value="generate_token(user_id, username)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1126" y="937"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-80" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-66" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-64" value="JWT Token">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1129" y="993"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-81" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-64" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-63" value="200 OK with token and user">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="608" y="1049"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-82" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-63" style="curved=1;endArrow=block;rounded=0;" target="EZzGvkTzl0ZU9KsnqAzF-63" value="Store token in localStorage">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="472" y="1105"/>
                            <mxPoint x="472" y="1135"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-83" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-63" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-62" value="Login successful">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="285" y="1191"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-84" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-65" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-64" value="None">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="969" y="1295"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-85" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-64" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-63" value="401 Unauthorized">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="608" y="1351"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="EZzGvkTzl0ZU9KsnqAzF-86" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-63" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-62" value="Login failed">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="285" y="1407"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
    <diagram id="A1-dbM-fF7nYGfB8EBfM" name="coze-agent-integration">
        <mxGraphModel dx="1554" dy="823" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="User" vertex="1">
                    <mxGeometry height="3854" width="150" x="20" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="WebUI" vertex="1">
                    <mxGeometry height="3854" width="150" x="305" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="FlaskApp" vertex="1">
                    <mxGeometry height="3854" width="150" x="582" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Chatbot" vertex="1">
                    <mxGeometry height="3854" width="150" x="829" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="LangGraph Agent" vertex="1">
                    <mxGeometry height="3854" width="150" x="1078" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-6" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Intent Detection" vertex="1">
                    <mxGeometry height="3854" width="150" x="1309" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-7" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Coze Client" vertex="1">
                    <mxGeometry height="3854" width="150" x="1509" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-8" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Coze Platform API" vertex="1">
                    <mxGeometry height="3854" width="153" x="1846" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-9" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Memory Manager" vertex="1">
                    <mxGeometry height="3854" width="150" x="2049" y="20" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-10" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=40" value="loop" vertex="1">
                    <mxGeometry height="243" width="433" x="1500" y="1174" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-11" parent="fUgwGYFONLuV4hLPRPg7-10" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Stream Events]" vertex="1">
                    <mxGeometry height="20" width="393" x="40" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-12" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="574" width="453" x="1490" y="1126" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-13" parent="fUgwGYFONLuV4hLPRPg7-12" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Streaming Mode]" vertex="1">
                    <mxGeometry height="20" width="423" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-14" parent="fUgwGYFONLuV4hLPRPg7-12" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Non-Streaming Mode]" vertex="1">
                    <mxGeometry height="3" width="453" y="385" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-15" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="854" width="1849" x="84" y="2057" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-16" parent="fUgwGYFONLuV4hLPRPg7-15" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Authentication Error (401)]" vertex="1">
                    <mxGeometry height="20" width="1819" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-17" parent="fUgwGYFONLuV4hLPRPg7-15" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Bot Not Found (404)]" vertex="1">
                    <mxGeometry height="3" width="1849" y="244" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-18" parent="fUgwGYFONLuV4hLPRPg7-15" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Timeout]" vertex="1">
                    <mxGeometry height="3" width="1849" y="483" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-19" parent="fUgwGYFONLuV4hLPRPg7-15" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Other Error]" vertex="1">
                    <mxGeometry height="3" width="1849" y="643" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-20" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="1211" width="1869" x="74" y="1710" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-21" parent="fUgwGYFONLuV4hLPRPg7-20" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Success]" vertex="1">
                    <mxGeometry height="20" width="1839" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-22" parent="fUgwGYFONLuV4hLPRPg7-20" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Error]" vertex="1">
                    <mxGeometry height="3" width="1869" y="304" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-23" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="2226" width="1960" x="64" y="705" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-24" parent="fUgwGYFONLuV4hLPRPg7-23" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Coze Not Configured]" vertex="1">
                    <mxGeometry height="20" width="1930" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-25" parent="fUgwGYFONLuV4hLPRPg7-23" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Coze Configured]" vertex="1">
                    <mxGeometry height="3" width="1960" y="109" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-26" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
                    <mxGeometry height="2953" width="1980" x="54" y="444" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-27" parent="fUgwGYFONLuV4hLPRPg7-26" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Intent: Coze Agent&#10;(&quot;AI daily report&quot; or &quot;AI news&quot;)]" vertex="1">
                    <mxGeometry height="20" width="1950" x="30" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-28" parent="fUgwGYFONLuV4hLPRPg7-26" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: General Chat]" vertex="1">
                    <mxGeometry height="22" width="1980" y="2502" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-29" parent="fUgwGYFONLuV4hLPRPg7-26" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: RAG Query]" vertex="1">
                    <mxGeometry height="22" width="1980" y="2654" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-30" parent="fUgwGYFONLuV4hLPRPg7-26" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: Tool Execution]" vertex="1">
                    <mxGeometry height="22" width="1980" y="2806" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-31" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-2" value="Send Message&#10;&quot;AI daily report&quot; or &quot;AI news&quot;">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="246" y="154"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-32" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-3" value="POST /api/chat&#10;{message, model}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="527" y="233"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-33" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-4" value="get_response(message)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="789" y="289"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-34" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Process with LangGraph">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1037" y="345"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-35" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-6" value="Detect Intent&#10;(keyword matching)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1277" y="424"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-36" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Intent = &quot;coze_agent&quot;">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1280" y="551"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-37" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="curved=1;endArrow=block;rounded=0;" target="fUgwGYFONLuV4hLPRPg7-5" value="Route to coze_agent node">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1204" y="607"/>
                            <mxPoint x="1204" y="637"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-38" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error: Coze agent not configured">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="636" y="789"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-39" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="execute_agent(query, user_id, conversation_id)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1377" y="893"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-40" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-8" value="chat.stream()&#10;or chat.create()">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1762" y="1039"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-41" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="CONVERSATION_MESSAGE_DELTA&#10;(content chunks)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1765" y="1281"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-42" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="curved=1;endArrow=block;rounded=0;" target="fUgwGYFONLuV4hLPRPg7-7" value="Accumulate content">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1635" y="1337"/>
                            <mxPoint x="1635" y="1367"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-43" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="CONVERSATION_CHAT_COMPLETED&#10;(final status, token usage)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1765" y="1486"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-44" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="Chat object&#10;(status, messages)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1765" y="1613"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-45" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="curved=1;endArrow=block;rounded=0;" target="fUgwGYFONLuV4hLPRPg7-7" value="Extract response content&#10;from messages">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1635" y="1817"/>
                            <mxPoint x="1635" y="1847"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-46" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: true, response, conversation_id}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1380" y="1903"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-47" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="curved=1;endArrow=block;rounded=0;" target="fUgwGYFONLuV4hLPRPg7-5" value="Add response to messages">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1204" y="1959"/>
                            <mxPoint x="1204" y="1989"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-48" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="Error code=4101&#10;Invalid token">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1765" y="2164"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-49" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: false, error_type: &quot;auth_error&quot;}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1380" y="2220"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-50" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error: Check COZE_API_TOKEN">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="636" y="2276"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-51" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="Error code=4200&#10;Bot does not exist">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1765" y="2403"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-52" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: false, error_type: &quot;not_found_error&quot;}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1380" y="2459"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-53" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error: Check COZE_BOT_ID and API region">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="636" y="2515"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-54" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: false, error_type: &quot;timeout&quot;}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1380" y="2619"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-55" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error: Request timed out (300s)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="636" y="2675"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-56" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="Error response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1765" y="2779"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-57" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: false, error, error_type}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1380" y="2835"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-58" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error message">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="636" y="2891"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-59" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Route to LLM">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1280" y="3025"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-60" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Route to RAG">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1280" y="3177"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-61" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Route to Tools">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1280" y="3329"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-62" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-9" value="Save Conversation&#10;(if successful)">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1647" y="3466"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-63" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-9" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Saved">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1650" y="3522"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-64" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-4" value="Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="1040" y="3578"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-65" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-3" value="Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="792" y="3634"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-66" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-2" value="JSON Response&#10;{response, conversation_id}">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="530" y="3713"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-67" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Display Response">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="249" y="3769"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-68" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Check COZE_ENABLED config" vertex="1">
                    <mxGeometry height="48" width="239" x="1034" y="657" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-69" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Initialize cozepy SDK&#10;with TokenAuth" vertex="1">
                    <mxGeometry height="67" width="174" x="1497" y="913" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-70" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Bot processes request&#10;Status: IN_PROGRESS" vertex="1">
                    <mxGeometry height="67" width="183" x="1831" y="1059" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-71" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Extract messages&#10;from conversation" vertex="1">
                    <mxGeometry height="67" width="156" x="1506" y="1633" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-72" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Standard LLM flow" vertex="1">
                    <mxGeometry height="48" width="158" x="1074" y="3045" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-73" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="RAG flow" vertex="1">
                    <mxGeometry height="48" width="150" x="1078" y="3197" as="geometry"/>
                </mxCell>
                <mxCell id="fUgwGYFONLuV4hLPRPg7-74" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Tool execution flow" vertex="1">
                    <mxGeometry height="48" width="165" x="1071" y="3349" as="geometry"/>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>