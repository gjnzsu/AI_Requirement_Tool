<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36" version="29.3.6" pages="10">
  <diagram name="Architecture Diagram" id="architecture-diagram">
    <mxGraphModel dx="3430" dy="1964" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1600" pageHeight="1200" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="user" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=14;" value="User" vertex="1">
          <mxGeometry height="60" width="200" x="800" y="-290" as="geometry" />
        </mxCell>
        <mxCell id="web-ui" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=12;" value="Web UI&#xa;(HTML/CSS/JS)" vertex="1">
          <mxGeometry height="80" width="200" x="800" y="-210" as="geometry" />
        </mxCell>
        <mxCell id="flask-app" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=11;align=left;" value="Flask Web Server&#xa;(app.py)&#xa;&#xa;• REST API Endpoints&#xa;• Authentication Endpoints&#xa;• Conversation Management&#xa;• Model Switching" vertex="1">
          <mxGeometry height="120" width="200" x="800" y="-110" as="geometry" />
        </mxCell>
        <mxCell id="auth-middleware" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" value="Auth Middleware&#xa;(@token_required)&#xa;&#xa;• Token Validation&#xa;• Request Interception&#xa;• User Context" vertex="1">
          <mxGeometry height="100" width="200" x="800" y="30" as="geometry" />
        </mxCell>
        <mxCell id="auth-service" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" value="AuthService&#xa;(src/auth/auth_service.py)&#xa;&#xa;• JWT Generation&#xa;• Token Verification&#xa;• Password Hashing" vertex="1">
          <mxGeometry height="100" width="200" x="1400" y="30" as="geometry" />
        </mxCell>
        <mxCell id="user-service" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=11;align=left;" value="UserService&#xa;(src/auth/user_service.py)&#xa;&#xa;• User Management&#xa;• Authentication&#xa;• User Lookup" vertex="1">
          <mxGeometry height="100" width="200" x="1130" y="150" as="geometry" />
        </mxCell>
        <mxCell id="auth-db" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=2;fontSize=12;" value="Auth Database&#xa;(SQLite auth.db)" vertex="1">
          <mxGeometry height="60" width="200" x="1130" y="310" as="geometry" />
        </mxCell>
        <mxCell id="chatbot" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="Chatbot Core&#xa;(src/chatbot.py)&#xa;&#xa;• Conversation Management&#xa;• Response Generation&#xa;• Provider Switching&#xa;• Error Handling" vertex="1">
          <mxGeometry height="140" width="200" x="800" y="150" as="geometry" />
        </mxCell>
        <mxCell id="LXauNJof73o6HpIqi6Vh-1" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;flowAnimation=1;" target="rag-service">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="900" y="920" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YHCqiRh2gld2sc-pwDH6-9" connectable="0" parent="LXauNJof73o6HpIqi6Vh-1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="RAG" vertex="1">
          <mxGeometry relative="1" x="0.8497" y="-1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="tZi8pfmqOm04CgsNkrrf-2" edge="1" parent="1" source="agent" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;flowAnimation=1;" target="jira-tool">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="920" />
              <mxPoint x="1350" y="920" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="tZi8pfmqOm04CgsNkrrf-3" connectable="0" parent="tZi8pfmqOm04CgsNkrrf-2" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="MCP Tooling" vertex="1">
          <mxGeometry relative="1" x="0.1826" y="-1" as="geometry">
            <mxPoint x="300" y="29" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YHCqiRh2gld2sc-pwDH6-4" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;flowAnimation=1;" target="coze-client">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="900" y="920" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="YHCqiRh2gld2sc-pwDH6-5" connectable="0" parent="YHCqiRh2gld2sc-pwDH6-4" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="Coze agent integration" vertex="1">
          <mxGeometry relative="1" x="0.1678" y="2" as="geometry">
            <mxPoint x="-324" y="28" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="agent" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=11;align=left;" value="LangGraph Agent&#xa;(src/agent/agent_graph.py)&#xa;&#xa;• Hybrid Intent Detection&#xa;  - Keywords → Cache → LLM (IntentDetector)&#xa;  - Timeout + Confidence Threshold + Fallback&#xa;• Tool Orchestration&#xa;• State Management&#xa;• Decision Routing&#xa;• Coze Agent Integration" vertex="1">
          <mxGeometry height="210" width="200" x="800" y="310" as="geometry" />
        </mxCell>
        <mxCell id="edge-intent-llm2" edge="1" parent="1" source="intent-detector" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;flowAnimation=1;" target="llm-router" value="LLM intent classification">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="intent-detector" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="IntentDetector Service&#xa;(src/services/intent_detector.py)&#xa;&#xa;• JSON intent output (+ reasoning)&#xa;• Uses conversation context (recent msgs)&#xa;• Parses + validates intent/confidence" vertex="1">
          <mxGeometry height="130" width="240" x="780" y="550" as="geometry" />
        </mxCell>
        <mxCell id="YHCqiRh2gld2sc-pwDH6-1" edge="1" parent="1" source="llm-router" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;flowAnimation=1;" target="openai-provider">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="980" />
              <mxPoint x="730" y="980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="YHCqiRh2gld2sc-pwDH6-2" edge="1" parent="1" source="llm-router" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;flowAnimation=1;" target="gemini-provider">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="YHCqiRh2gld2sc-pwDH6-3" edge="1" parent="1" source="llm-router" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;flowAnimation=1;" target="deepseek-provider">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="900" y="980" />
              <mxPoint x="1050" y="980" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="-he-L4hF-hgcVMBdopEP-1" connectable="0" parent="YHCqiRh2gld2sc-pwDH6-3" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="General Chat" vertex="1">
          <mxGeometry relative="1" x="-0.487" y="2" as="geometry">
            <mxPoint x="-2" y="17" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="llm-router" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="LLM Router&#xa;(src/llm/router.py)&#xa;&#xa;• Multi-Provider Support&#xa;• Fallback Management&#xa;• Provider Factory" vertex="1">
          <mxGeometry height="100" width="180" x="810" y="740" as="geometry" />
        </mxCell>
        <mxCell id="YHCqiRh2gld2sc-pwDH6-23" edge="1" parent="1" source="openai-provider" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="openai-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="openai-provider" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" value="OpenAI Provider&#xa;(openai_provider.py)" vertex="1">
          <mxGeometry height="60" width="140" x="660" y="1050" as="geometry" />
        </mxCell>
        <mxCell id="YHCqiRh2gld2sc-pwDH6-24" edge="1" parent="1" source="gemini-provider" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="gemini-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="gemini-provider" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" value="Gemini Provider&#xa;(gemini_provider.py)" vertex="1">
          <mxGeometry height="60" width="140" x="830" y="1050" as="geometry" />
        </mxCell>
        <mxCell id="YHCqiRh2gld2sc-pwDH6-25" edge="1" parent="1" source="deepseek-provider" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="deepseek-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="deepseek-provider" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" value="DeepSeek Provider&#xa;(deepseek_provider.py)" vertex="1">
          <mxGeometry height="60" width="140" x="980" y="1050" as="geometry" />
        </mxCell>
        <mxCell id="rag-service" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="RAG Service&#xa;(src/rag/rag_service.py)&#xa;&#xa;• Document Loading&#xa;• Text Chunking&#xa;• Embedding Generation&#xa;• Vector Search&#xa;• Cache Management" vertex="1">
          <mxGeometry height="140" width="180" x="310" y="1000" as="geometry" />
        </mxCell>
        <mxCell id="memory-manager" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="Memory Manager/Memory Summarizer&lt;br&gt;(src/services/memory_manager.py)&lt;div&gt;(src/services/memory_summarizer.py)&lt;br&gt;&lt;br&gt;• Conversation Storage&lt;br&gt;• Message History&lt;br&gt;• Summarization&lt;br&gt;• Context Management&lt;/div&gt;" vertex="1">
          <mxGeometry height="120" width="200" x="500" y="160" as="geometry" />
        </mxCell>
        <mxCell id="NBUrgZ9KJVTLsQvB_bNu-4" edge="1" parent="1" source="mcp-integration" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="NBUrgZ9KJVTLsQvB_bNu-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-28" connectable="0" parent="NBUrgZ9KJVTLsQvB_bNu-4" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="YES" vertex="1">
          <mxGeometry relative="1" x="0.6107" y="2" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="mcp-integration" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="MCP Integration&#xa;(src/mcp/mcp_integration.py)&#xa;&#xa;• MCP Client&#xa;• Tool Discovery&#xa;• Protocol Handling&#xa;• Response Parsing" vertex="1">
          <mxGeometry height="120" width="200" x="1580" y="990" as="geometry" />
        </mxCell>
        <mxCell id="NBUrgZ9KJVTLsQvB_bNu-1" edge="1" parent="1" source="jira-tool" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="mcp-integration">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-4" edge="1" parent="1" source="jira-tool" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" target="nigtIxCgUjvMZdVg63nm-1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jira-tool" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="Jira Tool&#xa;(src/tools/jira_tool.py)&#xa;&#xa;• Issue Creation&#xa;• Issue Management&#xa;• API Integration" vertex="1">
          <mxGeometry height="100" width="200" x="1250" y="1000" as="geometry" />
        </mxCell>
        <mxCell id="NBUrgZ9KJVTLsQvB_bNu-5" edge="1" parent="1" source="confluence-tool" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1590" y="1420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="confluence-tool" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="Confluence Tool&#xa;(src/tools/confluence_tool.py)&#xa;&#xa;• Page Creation&#xa;• Content Management&#xa;• API Integration" vertex="1">
          <mxGeometry height="100" width="200" x="1250" y="1370" as="geometry" />
        </mxCell>
        <mxCell id="openai-api" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" value="OpenAI API" vertex="1">
          <mxGeometry height="40" width="140" x="660" y="1180" as="geometry" />
        </mxCell>
        <mxCell id="gemini-api" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" value="Google Gemini API" vertex="1">
          <mxGeometry height="40" width="140" x="830" y="1180" as="geometry" />
        </mxCell>
        <mxCell id="deepseek-api" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" value="DeepSeek API" vertex="1">
          <mxGeometry height="40" width="140" x="980" y="1180" as="geometry" />
        </mxCell>
        <mxCell id="vector-db" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=2;fontSize=12;" value="Vector Database&lt;br&gt;(SQLite + PyNum Embeddings)" vertex="1">
          <mxGeometry height="60" width="180" x="310" y="1200" as="geometry" />
        </mxCell>
        <mxCell id="memory-db" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=2;fontSize=12;" value="Memory Database&#xa;(SQLite)" vertex="1">
          <mxGeometry height="60" width="200" x="500" y="310" as="geometry" />
        </mxCell>
        <mxCell id="qIZVnxX9wtbSYXflaPhP-1" edge="1" parent="1" source="coze-client" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="coze-api">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="coze-client" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="Coze Client Service&#xa;(src/services/coze_client.py)&#xa;&#xa;• SDK Integration&#xa;• Streaming API&#xa;• Error Handling&#xa;• Authentication" vertex="1">
          <mxGeometry height="120" width="200" x="-90" y="1000" as="geometry" />
        </mxCell>
        <mxCell id="coze-api" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" value="Coze Platform API" vertex="1">
          <mxGeometry height="40" width="200" x="-90" y="1200" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-16" edge="1" parent="1" source="mcp-server" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="nigtIxCgUjvMZdVg63nm-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="mcp-server" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=2;fontSize=12;" value="Self-built MCP Server&lt;br&gt;(Jira MCP Server)" vertex="1">
          <mxGeometry height="60" width="200" x="1880" y="1070" as="geometry" />
        </mxCell>
        <mxCell id="edge1" edge="1" parent="1" source="user" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="web-ui" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge2" edge="1" parent="1" source="web-ui" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="flask-app" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge3" edge="1" parent="1" source="flask-app" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="auth-middleware" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge3a" edge="1" parent="1" source="auth-middleware" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="chatbot" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-auth1" edge="1" parent="1" source="auth-middleware" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="auth-service" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-auth2" edge="1" parent="1" source="auth-middleware" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="user-service" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge-auth3" edge="1" parent="1" source="user-service" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="auth-db" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge4" edge="1" parent="1" source="chatbot" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="agent" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge6" edge="1" parent="1" source="chatbot" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="memory-manager" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge7" edge="1" parent="1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;flowAnimation=1;" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1360" y="439" as="sourcePoint" />
            <mxPoint x="1360" y="439" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="edge15" edge="1" parent="1" source="rag-service" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="vector-db" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge16" edge="1" parent="1" source="memory-manager" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;" target="memory-db" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge19" edge="1" parent="1" source="mcp-integration" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="mcp-server" value="">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-29" connectable="0" parent="edge19" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="NO" vertex="1">
          <mxGeometry relative="1" x="0.544" y="2" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="legend-title" parent="1" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1;fontSize=14;" value="Architecture Components" vertex="1">
          <mxGeometry height="30" width="200" x="40" y="-120" as="geometry" />
        </mxCell>
        <mxCell id="legend-ui" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=10;" value="User Interface Layer" vertex="1">
          <mxGeometry height="30" width="140" x="40" y="-80" as="geometry" />
        </mxCell>
        <mxCell id="legend-app" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=10;" value="Application Layer" vertex="1">
          <mxGeometry height="30" width="140" x="40" y="-40" as="geometry" />
        </mxCell>
        <mxCell id="legend-core" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=10;" value="Core Services" vertex="1">
          <mxGeometry height="30" width="140" x="40" as="geometry" />
        </mxCell>
        <mxCell id="legend-auth" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontSize=10;" value="Authentication Layer" vertex="1">
          <mxGeometry height="30" width="140" x="40" y="40" as="geometry" />
        </mxCell>
        <mxCell id="legend-agent" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=10;" value="LangGraph Agentic Framework" vertex="1">
          <mxGeometry height="30" width="140" x="40" y="80" as="geometry" />
        </mxCell>
        <mxCell id="legend-external" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=10;fontStyle=2;" value="External Services" vertex="1">
          <mxGeometry height="30" width="140" x="40" y="120" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-17" edge="1" parent="1" source="NBUrgZ9KJVTLsQvB_bNu-3" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="nigtIxCgUjvMZdVg63nm-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NBUrgZ9KJVTLsQvB_bNu-3" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" value="Atlassian Offical MCP Server&lt;br&gt;(Jira MCP Server)" vertex="1">
          <mxGeometry height="60" width="200" x="1880" y="970" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-5" edge="1" parent="1" source="nigtIxCgUjvMZdVg63nm-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" target="confluence-tool">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-1" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="Jira Maturity Evaluator&#xa;(src/services/jira_maturity_evaluator.py)&#xa;&#xa;• Requirement Analysis&#xa;• Maturity Scoring&#xa;• Recommendations" vertex="1">
          <mxGeometry height="100" width="200" x="1250" y="1200" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-13" edge="1" parent="1" source="nigtIxCgUjvMZdVg63nm-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="nigtIxCgUjvMZdVg63nm-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-26" connectable="0" parent="nigtIxCgUjvMZdVg63nm-13" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="NO" vertex="1">
          <mxGeometry relative="1" x="0.56" y="-2" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-7" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=11;align=left;" value="MCP Integration&#xa;(src/mcp/mcp_integration.py)&#xa;&#xa;• MCP Client&#xa;• Tool Discovery&#xa;• Protocol Handling&#xa;• Response Parsing" vertex="1">
          <mxGeometry height="120" width="200" x="1590" y="1350" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-9" edge="1" parent="1" source="nigtIxCgUjvMZdVg63nm-7" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeWidth=2;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" value="">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1890" y="1380" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-24" connectable="0" parent="nigtIxCgUjvMZdVg63nm-9" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="MCP Tooling Loaded" vertex="1">
          <mxGeometry relative="1" x="-0.5569" y="1" as="geometry">
            <mxPoint x="31" y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-25" connectable="0" parent="nigtIxCgUjvMZdVg63nm-9" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="YES" vertex="1">
          <mxGeometry relative="1" x="0.4585" y="2" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-19" edge="1" parent="1" source="nigtIxCgUjvMZdVg63nm-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="nigtIxCgUjvMZdVg63nm-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-11" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" value="Atlassian Offical MCP Server&lt;br&gt;(Confluence MCP Server)" vertex="1">
          <mxGeometry height="60" width="200" x="1890" y="1330" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-20" edge="1" parent="1" source="nigtIxCgUjvMZdVg63nm-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" target="nigtIxCgUjvMZdVg63nm-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-12" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=2;fontSize=12;" value="Confluence API&lt;br&gt;(Atlassian)" vertex="1">
          <mxGeometry height="40" width="200" x="1890" y="1450" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-15" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=2;fontSize=12;" value="Ingest knowledge on RAG Service" vertex="1">
          <mxGeometry height="60" width="200" x="2160" y="1020" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-22" edge="1" parent="1" source="nigtIxCgUjvMZdVg63nm-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2410" y="1420" />
            </Array>
            <mxPoint x="2410" y="1430" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-18" parent="1" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=2;fontSize=12;" value="Ingest knowledge on RAG Service" vertex="1">
          <mxGeometry height="60" width="200" x="2160" y="1390" as="geometry" />
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-21" edge="1" parent="1" source="nigtIxCgUjvMZdVg63nm-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.454;entryDx=0;entryDy=0;entryPerimeter=0;" target="rag-service">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2410" y="1060" />
              <mxPoint x="2410" y="1610" />
              <mxPoint x="240" y="1610" />
              <mxPoint x="240" y="1064" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-23" connectable="0" parent="nigtIxCgUjvMZdVg63nm-21" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="Knowledge Ingestion" vertex="1">
          <mxGeometry relative="1" x="0.1354" y="4" as="geometry">
            <mxPoint x="42" y="-4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="nigtIxCgUjvMZdVg63nm-27" connectable="0" parent="1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" value="MCP Tooling Loaded" vertex="1">
          <mxGeometry x="1840" y="1390" as="geometry">
            <mxPoint x="-8" y="-345" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="KPTJEU6j50dDuT6DsHEC" name="arch_overview_mermaid">
    <mxGraphModel dx="1554" dy="823" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="vT_12q0g2CJxtKnM4bh_-1" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Data Layer" vertex="1">
          <mxGeometry height="462" width="298" x="1949" y="20" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-2" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="External Services" vertex="1">
          <mxGeometry height="313" width="549" x="1949" y="502" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-3" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Capabilities" vertex="1">
          <mxGeometry height="617" width="243" x="1655" y="177" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-4" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intelligence Layer" vertex="1">
          <mxGeometry height="538" width="460" x="1030" y="188" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-5" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Application Layer" vertex="1">
          <mxGeometry height="408" width="417" x="563" y="106" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-6" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="User Layer" vertex="1">
          <mxGeometry height="124" width="431" x="20" y="371" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-7" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ User" vertex="1">
          <mxGeometry height="54" width="115" x="45" y="406" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-8" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Web Browser" vertex="1">
          <mxGeometry height="54" width="178" x="248" y="406" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-9" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Flask Web App" vertex="1">
          <mxGeometry height="54" width="163" x="588" y="406" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-10" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Chatbot Core" vertex="1">
          <mxGeometry height="54" width="155" x="800" y="406" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-11" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LangGraph Agent" vertex="1">
          <mxGeometry height="54" width="182" x="1055" y="447" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-12" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent Detection" vertex="1">
          <mxGeometry height="54" width="178" x="1287" y="576" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-13" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Multi-Provider LLM" vertex="1">
          <mxGeometry height="54" width="193" x="1680" y="429" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-14" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="RAG Service" vertex="1">
          <mxGeometry height="54" width="146" x="1704" y="533" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-15" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Tools&#xa;Jira/Confluence" vertex="1">
          <mxGeometry height="78" width="176" x="1689" y="647" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-16" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Memory Manager" vertex="1">
          <mxGeometry height="54" width="181" x="1687" y="212" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-17" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LLM APIs&#xa;OpenAI/Gemini/DeepSeek" vertex="1">
          <mxGeometry height="78" width="248" x="1974" y="572" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-18" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Atlassian&#xa;Jira/Confluence" vertex="1">
          <mxGeometry height="78" width="176" x="2297" y="678" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-19" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Server" vertex="1">
          <mxGeometry height="54" width="140" x="2028" y="720" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-20" parent="1" style="shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=10;strokeWidth=2;whiteSpace=wrap;" value="Memory DB" vertex="1">
          <mxGeometry height="71" width="95" x="2050" y="55" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-21" parent="1" style="shape=cylinder3;boundedLbl=1;backgroundOutline=1;size=10;strokeWidth=2;whiteSpace=wrap;" value="Vector Store" vertex="1">
          <mxGeometry height="73" width="104" x="2046" y="176" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-22" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Configuration" vertex="1">
          <mxGeometry height="54" width="157" x="2019" y="314" as="geometry" />
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-23" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-7" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.49;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-8" value="HTTP">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-24" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-8" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.49;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-9" value="REST API">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-25" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-9" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.49;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-10" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-26" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-10" style="curved=1;startArrow=none;endArrow=block;exitX=0.94;exitY=0.99;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-11" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="980" y="474" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-27" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-11" style="curved=1;startArrow=none;endArrow=block;exitX=0.63;exitY=0.99;entryX=0;entryY=0.49;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-12" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1262" y="603" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-28" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.62;exitY=-0.01;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-13" value="General Chat">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1490" y="456" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-29" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.9;exitY=-0.01;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-14" value="RAG Query">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1490" y="560" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-30" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.71;exitY=0.99;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-15" value="Jira/Confluence">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1490" y="686" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-31" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-13" style="curved=1;startArrow=none;endArrow=block;exitX=0.67;exitY=1;entryX=0.05;entryY=0;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-17" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1899" y="559" />
              <mxPoint x="1949" y="559" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-32" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-14" style="curved=1;startArrow=none;endArrow=block;exitX=0.61;exitY=0;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-21" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1899" y="353" />
              <mxPoint x="1924" y="213" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-33" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-14" style="curved=1;startArrow=none;endArrow=block;exitX=0.85;exitY=1;entryX=0;entryY=0.63;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-17" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1899" y="624" />
              <mxPoint x="1949" y="624" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-34" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-15" style="curved=1;startArrow=none;endArrow=block;exitX=0.94;exitY=1;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-19" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1899" y="747" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-35" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-15" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.49;entryX=0;entryY=0.18;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-18" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1899" y="685" />
              <mxPoint x="2272" y="685" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-36" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-19" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.5;entryX=0;entryY=0.8;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-18" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2272" y="747" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-37" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-11" style="curved=1;startArrow=none;endArrow=block;exitX=0.57;exitY=-0.01;entryX=0;entryY=0.51;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-16" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1262" y="239" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-38" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-16" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.51;entryX=0;entryY=0.5;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-20" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1899" y="239" />
              <mxPoint x="1924" y="91" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-39" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-10" style="curved=1;startArrow=none;endArrow=block;exitX=0.57;exitY=-0.01;entryX=0.08;entryY=-0.01;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-22" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="980" y="157" />
              <mxPoint x="1899" y="157" />
              <mxPoint x="1924" y="280" />
              <mxPoint x="1949" y="280" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-40" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-13" style="curved=1;startArrow=none;endArrow=block;exitX=0.98;exitY=0;entryX=0.18;entryY=0.99;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-22" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1899" y="420" />
              <mxPoint x="1949" y="420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="vT_12q0g2CJxtKnM4bh_-41" edge="1" parent="1" source="vT_12q0g2CJxtKnM4bh_-15" style="curved=1;startArrow=none;endArrow=block;exitX=0.61;exitY=0;entryX=0.24;entryY=0.99;rounded=0;" target="vT_12q0g2CJxtKnM4bh_-22" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1899" y="440" />
              <mxPoint x="1949" y="440" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="9yDZWeXsBS_Ft7CqS8C0" name="intent_detection_flow">
    <mxGraphModel dx="1295" dy="686" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="User" vertex="1">
          <mxGeometry height="3879" width="150" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="LangGraph Agent" vertex="1">
          <mxGeometry height="3879" width="150" x="397" y="20" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Keyword Matcher" vertex="1">
          <mxGeometry height="3879" width="151" x="774" y="20" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Intent Cache" vertex="1">
          <mxGeometry height="3879" width="150" x="975" y="20" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="IntentDetector Service" vertex="1">
          <mxGeometry height="3879" width="187" x="1175" y="20" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-6" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="LLM Provider" vertex="1">
          <mxGeometry height="3879" width="150" x="1666" y="20" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-7" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="LLM API (OpenAI/Gemini/DeepSeek)" vertex="1">
          <mxGeometry height="3879" width="288" x="1943" y="20" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-8" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="436" width="977" x="84" y="2643" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-9" parent="pU6TksaRFbqHg0e8L0Ti-8" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Confidence Meets Threshold]" vertex="1">
          <mxGeometry height="20" width="947" x="30" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-10" parent="pU6TksaRFbqHg0e8L0Ti-8" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Confidence Below Threshold]" vertex="1">
          <mxGeometry height="3" width="977" y="251" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-11" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="1246" width="1326" x="74" y="2338" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-12" parent="pU6TksaRFbqHg0e8L0Ti-11" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Valid Response]" vertex="1">
          <mxGeometry height="20" width="1296" x="30" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-13" parent="pU6TksaRFbqHg0e8L0Ti-11" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Invalid Response]" vertex="1">
          <mxGeometry height="3" width="1326" y="756" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-14" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="2647" width="2034" x="64" y="1137" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-15" parent="pU6TksaRFbqHg0e8L0Ti-14" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[IntentDetector Available]" vertex="1">
          <mxGeometry height="20" width="2004" x="30" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-16" parent="pU6TksaRFbqHg0e8L0Ti-14" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[IntentDetector Not Available]" vertex="1">
          <mxGeometry height="3" width="2034" y="2462" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-17" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="3055" width="2054" x="54" y="739" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-18" parent="pU6TksaRFbqHg0e8L0Ti-17" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Cache Hit]" vertex="1">
          <mxGeometry height="20" width="2024" x="30" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-19" parent="pU6TksaRFbqHg0e8L0Ti-17" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Cache Miss]" vertex="1">
          <mxGeometry height="3" width="2054" y="251" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-20" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="3463" width="2074" x="44" y="341" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-21" parent="pU6TksaRFbqHg0e8L0Ti-20" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Clear Keyword Match Found]" vertex="1">
          <mxGeometry height="20" width="2044" x="30" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-22" parent="pU6TksaRFbqHg0e8L0Ti-20" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[No Clear Match (Ambiguous)]" vertex="1">
          <mxGeometry height="3" width="2074" y="251" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-23" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Send Chat Message">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="292" y="131" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-24" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Extract user_input &amp; conversation_context">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="187" />
              <mxPoint x="523" y="217" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-25" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-3" value="Check Keywords (Jira/RAG/Coze/General)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="669" y="321" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-26" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Intent Detected (e.g., &quot;jira_creation&quot;)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="672" y="425" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-27" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Set intent &amp; route to handler">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="481" />
              <mxPoint x="523" y="511" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-28" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-1" value="Process request based on intent">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="295" y="567" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-29" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-4" value="Lookup cached intent for user_input">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="769" y="719" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-30" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Return cached intent result">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="772" y="823" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-31" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Use cached intent">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="879" />
              <mxPoint x="523" y="909" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-32" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-1" value="Process request based on cached intent">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="295" y="965" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-33" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-5" value="Initialize IntentDetector (if enabled)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="879" y="1117" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-34" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-5" value="detect_intent(user_input, conversation_context)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="879" y="1221" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-35" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-5" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-5" value="Extract last 3-5 messages for context">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1319" y="1325" />
              <mxPoint x="1319" y="1355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-36" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-5" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-5" value="Create intent prompt with:&#xa;- Conversation context&#xa;- Current user input&#xa;- Intent descriptions">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1319" y="1480" />
              <mxPoint x="1319" y="1510" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-37" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-6" value="generate_response(&#xa;system_prompt: &quot;You are an expert intent classifier...&quot;,&#xa;user_prompt: formatted prompt,&#xa;temperature: 0.1,&#xa;json_mode: true)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1513" y="1706" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-38" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-7" value="API Request (with JSON mode)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1923" y="1762" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-39" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-6" value="JSON Response:&#xa;{&#xa;  &quot;intent&quot;: &quot;jira_creation&quot;,&#xa;  &quot;confidence&quot;: 0.95,&#xa;  &quot;reasoning&quot;: &quot;User wants to create...&quot;&#xa;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1926" y="1933" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-40" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-5" value="Raw response content">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1516" y="1989" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-41" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-5" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-5" value="Parse JSON from response&#xa;(handle markdown code blocks)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1319" y="2116" />
              <mxPoint x="1319" y="2146" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-42" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-5" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-5" value="Validate intent in SUPPORTED_INTENTS">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1319" y="2202" />
              <mxPoint x="1319" y="2232" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-43" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-5" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-5" value="Validate confidence (0.0-1.0)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1319" y="2288" />
              <mxPoint x="1319" y="2318" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-44" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Return intent result:&#xa;{&#xa;  intent: &quot;jira_creation&quot;,&#xa;  confidence: 0.95,&#xa;  reasoning: &quot;...&quot;&#xa;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="882" y="2537" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-45" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Check confidence &gt;= threshold">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="2593" />
              <mxPoint x="523" y="2623" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-46" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-4" value="Cache intent result">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="769" y="2727" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-47" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Set intent &amp; route to handler">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="2783" />
              <mxPoint x="523" y="2813" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-48" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-1" value="Process request based on detected intent">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="295" y="2869" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-49" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Fallback to general_chat">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="2973" />
              <mxPoint x="523" y="3003" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-50" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-1" value="Process as general chat">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="295" y="3059" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-51" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-5" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-5" value="Extract intent from text response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1319" y="3221" />
              <mxPoint x="1319" y="3251" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-52" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Return fallback result:&#xa;{&#xa;  intent: &quot;general_chat&quot;,&#xa;  confidence: 0.5,&#xa;  reasoning: &quot;JSON parsing failed&quot;&#xa;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="882" y="3422" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-53" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Use fallback intent">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="3478" />
              <mxPoint x="523" y="3508" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-54" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-1" value="Process as general chat">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="295" y="3564" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-55" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="curved=1;endArrow=block;rounded=0;" target="pU6TksaRFbqHg0e8L0Ti-2" value="Fallback to general_chat">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="523" y="3678" />
              <mxPoint x="523" y="3708" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-56" edge="1" parent="1" source="pU6TksaRFbqHg0e8L0Ti-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="pU6TksaRFbqHg0e8L0Ti-1" value="Process as general chat">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="295" y="3764" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-57" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Step 1: Fast Path - Keyword Detection" vertex="1">
          <mxGeometry height="48" width="296" x="324" y="237" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-58" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Step 2: Check Cache" vertex="1">
          <mxGeometry height="48" width="169" x="388" y="635" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-59" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Step 3: LLM-based Detection" vertex="1">
          <mxGeometry height="48" width="231" x="357" y="1033" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-60" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Prepare Detection Prompt" vertex="1">
          <mxGeometry height="48" width="214" x="1161" y="1241" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-61" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Call LLM for Classification" vertex="1">
          <mxGeometry height="48" width="210" x="1163" y="1530" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-62" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Parse &amp; Validate Response" vertex="1">
          <mxGeometry height="48" width="214" x="1161" y="2009" as="geometry" />
        </mxCell>
        <mxCell id="pU6TksaRFbqHg0e8L0Ti-63" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Fallback Text Extraction" vertex="1">
          <mxGeometry height="48" width="195" x="1171" y="3137" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="wFfGuKRYt5Qpg7DtkSqs" name="intent_detection_decision_tree_diagram">
    <mxGraphModel dx="1554" dy="823" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="qlBimhUf4SWO34awiWSX-1" parent="1" style="rounded=1;whiteSpace=wrap;arcSize=50;strokeWidth=2;" value="User Input Received" vertex="1">
          <mxGeometry height="39" width="167" x="224" y="180" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-2" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="Confluence&#xa;Tooling&#xa;Keywords?" vertex="1">
          <mxGeometry height="182" width="182" x="217" y="269" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-3" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: general_chat" vertex="1">
          <mxGeometry height="54" width="207" x="65" y="623" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-4" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="Coze&#xa;Keywords?&#xa;ai daily report/news" vertex="1">
          <mxGeometry height="248" width="248" x="323" y="525" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-5" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="Coze&#xa;Enabled?" vertex="1">
          <mxGeometry height="141" width="141" x="173" y="913" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-6" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: coze_agent" vertex="1">
          <mxGeometry height="54" width="196" x="20" y="1271" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-7" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: general_chat" vertex="1">
          <mxGeometry height="54" width="207" x="266" y="1271" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-8" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="Jira Creation&#xa;Keywords/Patterns?&#xa;create jira/issue/ticket" vertex="1">
          <mxGeometry height="272" width="272" x="566" y="848" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-9" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="Jira Tools&#xa;Available?&#xa;MCP or Custom" vertex="1">
          <mxGeometry height="209" width="209" x="523" y="1194" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-10" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: jira_creation" vertex="1">
          <mxGeometry height="54" width="207" x="440" y="1613" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-11" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="RAG&#xa;Keywords?&#xa;knowledge base/documentation" vertex="1">
          <mxGeometry height="326" width="326" x="697" y="1477" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-12" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="RAG Service&#xa;Available?" vertex="1">
          <mxGeometry height="164" width="164" x="677" y="1877" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-13" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: rag_query" vertex="1">
          <mxGeometry height="54" width="186" x="646" y="2187" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-14" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="General Chat&#xa;Keywords?&#xa;hello/hi/help" vertex="1">
          <mxGeometry height="199" width="199" x="882" y="2115" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-15" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: general_chat" vertex="1">
          <mxGeometry height="54" width="207" x="756" y="2449" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-16" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="LLM-based&#xa;Detection&#xa;Enabled?" vertex="1">
          <mxGeometry height="177" width="177" x="1014" y="2388" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-17" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: general_chat&#xa;Default Fallback" vertex="1">
          <mxGeometry height="78" width="207" x="891" y="2660" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-18" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="Cache&#xa;Hit?" vertex="1">
          <mxGeometry height="121" width="121" x="1149" y="2638" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-19" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Use Cached Intent" vertex="1">
          <mxGeometry height="54" width="191" x="994" y="2901" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-20" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="Intent Detector&#xa;Available?" vertex="1">
          <mxGeometry height="189" width="189" x="1235" y="2834" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-21" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: general_chat&#xa;Fallback" vertex="1">
          <mxGeometry height="78" width="207" x="1104" y="3097" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-22" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Call LLM for&#xa;Intent Detection" vertex="1">
          <mxGeometry height="78" width="178" x="1362" y="3097" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-23" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="LLM Call&#xa;Timeout?" vertex="1">
          <mxGeometry height="143" width="143" x="1379" y="3225" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-24" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: general_chat&#xa;Timeout Fallback" vertex="1">
          <mxGeometry height="78" width="207" x="1205" y="3453" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-25" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Parse LLM Response&#xa;Extract Intent &amp;amp; Confidence" vertex="1">
          <mxGeometry height="102" width="260" x="1463" y="3441" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-26" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="Valid&#xa;Response?" vertex="1">
          <mxGeometry height="149" width="149" x="1518" y="3593" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-27" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: general_chat&#xa;Invalid Response Fallback" vertex="1">
          <mxGeometry height="78" width="242" x="1341" y="3868" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-28" parent="1" style="rhombus;strokeWidth=2;whiteSpace=wrap;" value="Confidence &amp;gt;=&#xa;Threshold?" vertex="1">
          <mxGeometry height="180" width="180" x="1633" y="3817" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-29" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Cache Intent Result" vertex="1">
          <mxGeometry height="54" width="200" x="1489" y="4083" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-30" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Use Detected Intent" vertex="1">
          <mxGeometry height="54" width="204" x="1487" y="4199" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-31" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent: general_chat&#xa;Low Confidence Fallback" vertex="1">
          <mxGeometry height="78" width="238" x="1739" y="4071" as="geometry" />
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-32" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-1" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-2" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-33" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-2" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.96;entryX=0.5;entryY=-0.01;rounded=0;" target="qlBimhUf4SWO34awiWSX-3" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="169" y="488" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-34" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-2" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.96;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-4" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="447" y="488" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-35" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-4" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.9;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-5" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="244" y="811" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-36" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-5" style="curved=1;startArrow=none;endArrow=block;exitX=0.14;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-6" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="118" y="1157" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-37" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-5" style="curved=1;startArrow=none;endArrow=block;exitX=0.86;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-7" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="369" y="1157" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-38" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-4" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.82;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-8" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="702" y="811" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-39" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-8" style="curved=1;startArrow=none;endArrow=block;exitX=0.28;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-9" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="627" y="1157" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-40" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-9" style="curved=1;startArrow=none;endArrow=block;exitX=0.2;exitY=1;entryX=0.5;entryY=-0.01;rounded=0;" target="qlBimhUf4SWO34awiWSX-10" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="544" y="1440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-41" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-9" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.95;entryX=0.31;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-11" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="786" y="1440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-42" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-8" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=1;entryX=0.54;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-11" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="875" y="1157" />
              <mxPoint x="875" y="1440" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-43" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-11" style="curved=1;startArrow=none;endArrow=block;exitX=0.25;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-12" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="759" y="1840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-44" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.42;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-13" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="739" y="2078" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-45" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-12" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.99;entryX=0.13;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-14" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="881" y="2078" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-46" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-11" style="curved=1;startArrow=none;endArrow=block;exitX=0.84;exitY=1;entryX=0.55;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-14" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="996" y="1840" />
              <mxPoint x="996" y="2078" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-47" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-14" style="curved=1;startArrow=none;endArrow=block;exitX=0.06;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-15" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="860" y="2351" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-48" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-14" style="curved=1;startArrow=none;endArrow=block;exitX=0.94;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-16" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1102" y="2351" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-49" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-16" style="curved=1;startArrow=none;endArrow=block;exitX=0.07;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-17" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="995" y="2601" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-50" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-16" style="curved=1;startArrow=none;endArrow=block;exitX=0.93;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-18" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1209" y="2601" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-51" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-18" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.91;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-19" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1090" y="2797" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-52" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-18" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.91;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-20" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1329" y="2797" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-53" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-20" style="curved=1;startArrow=none;endArrow=block;exitX=0.04;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-21" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1208" y="3060" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-54" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-20" style="curved=1;startArrow=none;endArrow=block;exitX=0.96;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-22" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1451" y="3060" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-55" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-22" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-23" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-56" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-23" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.88;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-24" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1309" y="3404" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-57" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-23" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.88;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-25" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1593" y="3404" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-58" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-25" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-26" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-59" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-26" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.93;entryX=0.5;entryY=-0.01;rounded=0;" target="qlBimhUf4SWO34awiWSX-27" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1462" y="3780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-60" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-26" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.93;entryX=0.5;entryY=0;rounded=0;" target="qlBimhUf4SWO34awiWSX-28" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1723" y="3780" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-61" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-28" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.97;entryX=0.5;entryY=-0.01;rounded=0;" target="qlBimhUf4SWO34awiWSX-29" value="Yes">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1589" y="4034" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-62" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-29" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=0.99;entryX=0.5;entryY=-0.01;rounded=0;" target="qlBimhUf4SWO34awiWSX-30" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="qlBimhUf4SWO34awiWSX-63" edge="1" parent="1" source="qlBimhUf4SWO34awiWSX-28" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.97;entryX=0.5;entryY=-0.01;rounded=0;" target="qlBimhUf4SWO34awiWSX-31" value="No">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1858" y="4034" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="yTYUuDoqOAll0RWlUUXM" name="request_flow_sequence_mermaid">
    <mxGraphModel dx="1943" dy="1029" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="EviRF4KwLwFpopbQSHSw-1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="User" vertex="1">
          <mxGeometry height="2024" width="150" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="WebUI" vertex="1">
          <mxGeometry height="2024" width="150" x="220" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="FlaskApp" vertex="1">
          <mxGeometry height="2024" width="150" x="420" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Chatbot" vertex="1">
          <mxGeometry height="2024" width="150" x="667" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Agent" vertex="1">
          <mxGeometry height="2024" width="150" x="916" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-6" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="IntentDetect" vertex="1">
          <mxGeometry height="2024" width="150" x="1116" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-7" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="LLMRouter" vertex="1">
          <mxGeometry height="2024" width="150" x="1316" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-8" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="RAGService" vertex="1">
          <mxGeometry height="2024" width="150" x="1516" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-9" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Tools" vertex="1">
          <mxGeometry height="2024" width="150" x="1716" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-10" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="MemoryMgr" vertex="1">
          <mxGeometry height="2024" width="150" x="1916" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-11" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="ExternalAPIs" vertex="1">
          <mxGeometry height="2024" width="150" x="2116" y="20" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-12" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="1238" width="1222" x="980" y="375" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-13" parent="EviRF4KwLwFpopbQSHSw-12" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Intent: General Chat]" vertex="1">
          <mxGeometry height="20" width="1192" x="30" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-14" parent="EviRF4KwLwFpopbQSHSw-12" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: RAG Query]" vertex="1">
          <mxGeometry height="3" width="1222" y="277" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-15" parent="EviRF4KwLwFpopbQSHSw-12" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: Jira/Confluence Creation]" vertex="1">
          <mxGeometry height="3" width="1222" y="747" as="geometry" />
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-16" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-2" value="Send Message">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="204" y="131" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-17" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-3" value="POST /api/chat">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="404" y="187" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-18" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-4" value="get_response(message)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="627" y="243" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-19" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Process with LangGraph">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="875" y="299" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-20" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-6" value="Detect Intent">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1100" y="355" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-21" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Route to LLM">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1300" y="459" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-22" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-11" value="Call LLM Provider">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1800" y="515" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-23" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-11" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1803" y="571" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-24" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Generated Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1203" y="627" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-25" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-8" value="Retrieve Context">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1400" y="731" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-26" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-8" style="curved=1;endArrow=block;rounded=0;" target="EviRF4KwLwFpopbQSHSw-8" value="Search Vector Store">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1642" y="787" />
              <mxPoint x="1642" y="817" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-27" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Relevant Context">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1303" y="873" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-28" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Generate with Context">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1200" y="929" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-29" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-11" value="Call LLM Provider">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1800" y="985" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-30" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-11" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1803" y="1041" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-31" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Contextual Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1203" y="1097" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-32" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-9" value="Execute Tool">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1500" y="1201" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-33" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-9" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-11" value="MCP or Direct API">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2000" y="1257" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-34" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-11" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-9" value="Result">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2003" y="1313" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-35" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-9" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Tool Result">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1403" y="1369" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-36" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Format Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1200" y="1425" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-37" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-11" value="Call LLM Provider">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1800" y="1481" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-38" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-11" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-7" value="Formatted Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1803" y="1537" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-39" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Final Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1203" y="1593" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-40" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-10" value="Save Conversation">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1500" y="1659" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-41" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-10" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-5" value="Saved">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1503" y="1715" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-42" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-4" value="Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="878" y="1771" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-43" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-3" value="Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="630" y="1827" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-44" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-2" value="JSON Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="407" y="1883" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EviRF4KwLwFpopbQSHSw-45" edge="1" parent="1" source="EviRF4KwLwFpopbQSHSw-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EviRF4KwLwFpopbQSHSw-1" value="Display Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="207" y="1939" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="fyViqYSo0T4jaL0SxEEt" name="arch_design_diagram_mermaid">
    <mxGraphModel dx="1828" dy="968" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="fqqK1VO9HoPc-71TpEGH-1" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Data Storage" vertex="1">
          <mxGeometry height="152" width="1729" x="20" y="2364" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-2" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ External Services" vertex="1">
          <mxGeometry height="378" width="1296" x="2972" y="2138" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-3" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ RAG Components" vertex="1">
          <mxGeometry height="683" width="624" x="288" y="1607" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-4" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ LLM Layer" vertex="1">
          <mxGeometry height="329" width="941" x="2011" y="1961" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-5" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Tool Layer" vertex="1">
          <mxGeometry height="128" width="768" x="3502" y="1607" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-6" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="⚙️ Service Layer" vertex="1">
          <mxGeometry height="305" width="1892" x="932" y="1430" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-7" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Agent Layer" vertex="1">
          <mxGeometry height="528" width="3162" x="1057" y="828" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-8" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ Application Layer" vertex="1">
          <mxGeometry height="280" width="1880" x="174" y="474" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-9" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="������ User Interface Layer" vertex="1">
          <mxGeometry height="280" width="255" x="1172" y="120" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-10" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Web UI&#xa;(Flask Templates)" vertex="1">
          <mxGeometry height="78" width="185" x="1207" y="145" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-11" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="REST API&#xa;(Flask Routes)" vertex="1">
          <mxGeometry height="78" width="160" x="1219" y="297" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-12" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Flask Application&#xa;(app.py)" vertex="1">
          <mxGeometry height="78" width="181" x="1209" y="499" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-13" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Chatbot Class&#xa;(chatbot.py)" vertex="1">
          <mxGeometry height="78" width="157" x="1220" y="651" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-14" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LangGraph Agent&#xa;(agent_graph.py)" vertex="1">
          <mxGeometry height="78" width="183" x="1890" y="853" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-15" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Intent Detection&#xa;(general_chat, jira_creation,&#xa;rag_query, confluence_creation)" vertex="1">
          <mxGeometry height="150" width="260" x="3622" y="1005" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-16" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Agent Router&#xa;(Routes to appropriate handler)" vertex="1">
          <mxGeometry height="102" width="260" x="3622" y="1229" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-17" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="RAG Service&#xa;(rag_service.py)" vertex="1">
          <mxGeometry height="78" width="176" x="1009" y="1455" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-18" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Memory Manager&#xa;(memory_manager.py)" vertex="1">
          <mxGeometry height="78" width="220" x="1402" y="1632" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-19" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Memory Summarizer&#xa;(memory_summarizer.py)" vertex="1">
          <mxGeometry height="78" width="242" x="1235" y="1455" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-20" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Integration&#xa;(mcp_integration.py)" vertex="1">
          <mxGeometry height="78" width="212" x="1667" y="1455" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-21" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Client Manager&#xa;(mcp_client.py)" vertex="1">
          <mxGeometry height="78" width="202" x="1672" y="1632" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-22" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Jira Maturity Evaluator&#xa;(jira_maturity_evaluator.py)" vertex="1">
          <mxGeometry height="78" width="264" x="2472" y="1632" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-23" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Jira Tool&#xa;(jira_tool.py)" vertex="1">
          <mxGeometry height="78" width="156" x="3537" y="1632" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-24" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Confluence Tool&#xa;(confluence_tool.py)" vertex="1">
          <mxGeometry height="78" width="210" x="4025" y="1632" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-25" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Tool Wrappers&#xa;(LangChain Compatible)" vertex="1">
          <mxGeometry height="78" width="232" x="3743" y="1632" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-26" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="LLM Router&#xa;(router.py)" vertex="1">
          <mxGeometry height="78" width="140" x="2194" y="1986" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-27" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="OpenAI Provider&#xa;(openai_provider.py)" vertex="1">
          <mxGeometry height="78" width="209" x="2172" y="2175" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-28" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Gemini Provider&#xa;(gemini_provider.py)" vertex="1">
          <mxGeometry height="78" width="209" x="2430" y="2175" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-29" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="DeepSeek Provider&#xa;(deepseek_provider.py)" vertex="1">
          <mxGeometry height="78" width="228" x="2689" y="2175" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-30" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Document Loader&#xa;(document_loader.py)" vertex="1">
          <mxGeometry height="78" width="218" x="442" y="1632" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-31" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Text Chunker&#xa;(text_chunker.py)" vertex="1">
          <mxGeometry height="78" width="187" x="360" y="1809" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-32" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Embedding Generator&#xa;(embedding_generator.py)" vertex="1">
          <mxGeometry height="78" width="250" x="328" y="1986" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-33" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Vector Store&#xa;(vector_store.py - ChromaDB)" vertex="1">
          <mxGeometry height="102" width="260" x="323" y="2163" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-34" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="RAG Cache&#xa;(rag_cache.py)" vertex="1">
          <mxGeometry height="78" width="167" x="710" y="1632" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-35" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="OpenAI API" vertex="1">
          <mxGeometry height="54" width="138" x="3007" y="2413" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-36" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Google Gemini API" vertex="1">
          <mxGeometry height="54" width="192" x="3195" y="2413" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-37" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="DeepSeek API" vertex="1">
          <mxGeometry height="54" width="156" x="3436" y="2413" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-38" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Jira API&#xa;(Atlassian)" vertex="1">
          <mxGeometry height="78" width="135" x="3643" y="2401" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-39" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Confluence API&#xa;(Atlassian)" vertex="1">
          <mxGeometry height="78" width="167" x="4066" y="2401" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-40" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="MCP Server&#xa;(Jira/Confluence)" vertex="1">
          <mxGeometry height="78" width="187" x="3765" y="2175" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-41" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Memory Database&#xa;(SQLite - chatbot_memory.db)" vertex="1">
          <mxGeometry height="102" width="260" x="55" y="2389" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-42" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Vector Database&#xa;(ChromaDB)" vertex="1">
          <mxGeometry height="78" width="176" x="365" y="2401" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-43" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Configuration&#xa;(config.py + .env)" vertex="1">
          <mxGeometry height="78" width="187" x="1066" y="2401" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-44" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="Document Storage&#xa;(data/ folder)" vertex="1">
          <mxGeometry height="78" width="191" x="1523" y="2401" as="geometry" />
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-45" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-10" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-11" value="HTTP Request">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-46" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-11" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-12" value="Initialize">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-47" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-12" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-13" value="Create Instance">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-48" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-13" style="curved=1;startArrow=none;endArrow=block;exitX=1.01;exitY=0.59;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-14" value="Use Agent">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1982" y="754" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-49" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.55;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-15" value="Detect Intent">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3752" y="968" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-50" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-15" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-16" value="Route">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-51" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-16" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.61;entryX=0.45;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-26" value="General Chat">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2891" y="1356" />
              <mxPoint x="2891" y="1735" />
              <mxPoint x="2253" y="1772" />
              <mxPoint x="2253" y="1961" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-52" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-16" style="curved=1;startArrow=none;endArrow=block;exitX=0.15;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-23" value="Jira Creation">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3615" y="1356" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-53" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-16" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.76;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-24" value="Confluence Creation">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="4130" y="1356" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-54" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-16" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.54;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-17" value="RAG Query">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1097" y="1356" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-55" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.69;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-18" value="Memory Operations">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1512" y="968" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-56" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.64;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-19" value="Summarize">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1356" y="968" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-57" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.93;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-20" value="Tool Integration">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1773" y="968" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-58" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-20" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-21" value="Manage Clients">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-59" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-20" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.61;entryX=0;entryY=0.42;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-25" value="Wrap Tools">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2715" y="1570" />
              <mxPoint x="2715" y="1607" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-60" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-23" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.13;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-38" value="Fallback">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3615" y="2364" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-61" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-24" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.44;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-39" value="Fallback">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="4130" y="2364" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-62" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-25" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-40" value="Primary">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-63" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-40" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.99;entryX=0.35;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-38" value="Proxy">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3672" y="2290" />
              <mxPoint x="3672" y="2364" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-64" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-40" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.78;entryX=0.62;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-39" value="Proxy">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="4189" y="2290" />
              <mxPoint x="4189" y="2364" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-65" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-17" style="curved=1;startArrow=none;endArrow=block;exitX=0.31;exitY=1;entryX=1;entryY=0.31;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-30" value="Load Documents">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1033" y="1570" />
              <mxPoint x="1033" y="1607" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-66" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-30" style="curved=1;startArrow=none;endArrow=block;exitX=0.85;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-44" value="Read Files">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="674" y="1735" />
              <mxPoint x="674" y="2290" />
              <mxPoint x="1618" y="2327" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-67" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-30" style="curved=1;startArrow=none;endArrow=block;exitX=0.23;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-31" value="Chunk Text">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="453" y="1735" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-68" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-31" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-32" value="Generate Embeddings">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-69" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-32" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.94;entryX=0;entryY=0.43;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-27" value="Query LLM">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="732" y="2101" />
              <mxPoint x="732" y="2138" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-70" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-32" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-33" value="Store Embeddings">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-71" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-33" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-42" value="Persist">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-72" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-17" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=1;entryX=1;entryY=0.36;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-34" value="Cache Results">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1270" y="1570" />
              <mxPoint x="1270" y="1607" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-73" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-26" style="curved=1;startArrow=none;endArrow=block;exitX=0.54;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-27" value="Route Request">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2276" y="2101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-74" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-26" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.75;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-28" value="Route Request">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2535" y="2101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-75" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-26" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.63;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-29" value="Route Request">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2803" y="2101" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-76" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-27" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-35" value="API Call">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2276" y="2290" />
              <mxPoint x="3076" y="2327" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-77" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-28" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-36" value="API Call">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2535" y="2290" />
              <mxPoint x="3291" y="2327" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-78" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-29" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-37" value="API Call">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2803" y="2290" />
              <mxPoint x="3515" y="2327" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-79" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-14" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.64;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-22" value="Evaluate">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2604" y="968" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-80" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-22" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.7;entryX=1;entryY=0.38;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-26" value="Use LLM">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2052" y="1735" />
              <mxPoint x="2733" y="1772" />
              <mxPoint x="2733" y="1961" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-81" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-22" style="curved=1;startArrow=none;endArrow=block;exitX=0.62;exitY=1;entryX=0.57;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-38" value="Query Jira">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2657" y="1735" />
              <mxPoint x="3730" y="1772" />
              <mxPoint x="3730" y="2364" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-82" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-18" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-41" value="Read/Write">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1512" y="1735" />
              <mxPoint x="185" y="1772" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-83" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-13" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.56;entryX=0;entryY=0.34;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-43" value="Load Config">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="257" y="754" />
              <mxPoint x="257" y="2290" />
              <mxPoint x="591" y="2327" />
              <mxPoint x="591" y="2364" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-84" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-21" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.97;entryY=0;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-43" value="Load Config">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1773" y="2290" />
              <mxPoint x="1330" y="2327" />
              <mxPoint x="1330" y="2364" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fqqK1VO9HoPc-71TpEGH-85" edge="1" parent="1" source="fqqK1VO9HoPc-71TpEGH-26" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.9;entryX=1;entryY=0.26;rounded=0;" target="fqqK1VO9HoPc-71TpEGH-43" value="Load Config">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2095" y="2101" />
              <mxPoint x="2095" y="2290" />
              <mxPoint x="1543" y="2327" />
              <mxPoint x="1543" y="2364" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="tPPPXv3dzPL6T9jx-cXI" name="graph_state_structure">
    <mxGraphModel dx="1494" dy="686" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="IRU-mzGsNd4VEneu7DZP-1" parent="1" style="rounded=1;whiteSpace=wrap;arcSize=50;strokeWidth=2;" value="User Input" vertex="1">
          <mxGeometry height="39" width="99" x="731" y="298" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-2" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="intent_detection&#xa;Detect User Intent" vertex="1">
          <mxGeometry height="78" width="193" x="684" y="394" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-3" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="jira_creation&#xa;Create Jira Issue&#xa;Updates: jira_result" vertex="1">
          <mxGeometry height="102" width="204" x="158" y="546" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-4" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="rag_query&#xa;Retrieve Documents&#xa;Updates: rag_context" vertex="1">
          <mxGeometry height="102" width="215" x="412" y="546" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-5" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="general_chat&#xa;Handle Conversation&#xa;Updates: messages" vertex="1">
          <mxGeometry height="102" width="208" x="676" y="546" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-6" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="coze_agent&#xa;Coze Agent Execution&#xa;Updates: coze_result" vertex="1">
          <mxGeometry height="102" width="215" x="934" y="546" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-7" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="END" vertex="1">
          <mxGeometry height="54" width="89" x="1199" y="570" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-8" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="evaluation&#xa;Evaluate Maturity&#xa;Updates: evaluation_result" vertex="1">
          <mxGeometry height="102" width="254" x="133" y="698" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-9" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="confluence_creation&#xa;Create Confluence Page&#xa;Updates: confluence_result" vertex="1">
          <mxGeometry height="102" width="257" x="20" y="874" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-10" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="END" vertex="1">
          <mxGeometry height="54" width="89" x="327" y="898" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-11" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="END" vertex="1">
          <mxGeometry height="54" width="89" x="104" y="1026" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-12" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="END" vertex="1">
          <mxGeometry height="54" width="89" x="475" y="722" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-13" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="END" vertex="1">
          <mxGeometry height="54" width="89" x="736" y="722" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-14" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="END" vertex="1">
          <mxGeometry height="54" width="89" x="997" y="722" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-15" parent="1" style="whiteSpace=wrap;strokeWidth=2;" value="```" vertex="1">
          <mxGeometry height="54" width="85" x="879" y="290" as="geometry" />
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-16" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-1" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=0.99;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-2" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-17" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-2" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.68;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-3" value="intent: jira_creation">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="260" y="509" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-18" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-2" style="curved=1;startArrow=none;endArrow=block;exitX=0;exitY=0.86;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-4" value="intent: rag_query">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="519" y="509" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-19" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-2" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-5" value="intent: general_chat">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-20" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-2" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.86;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-6" value="intent: coze_agent">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1041" y="509" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-21" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-2" style="curved=1;startArrow=none;endArrow=block;exitX=1;exitY=0.7;entryX=0.49;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-7" value="end">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1243" y="509" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-22" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-3" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-8" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-23" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-8" style="curved=1;startArrow=none;endArrow=block;exitX=0.25;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-9" value="route: confluence_creation">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="149" y="837" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-24" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-8" style="curved=1;startArrow=none;endArrow=block;exitX=0.75;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-10" value="route: end">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="372" y="837" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-25" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-9" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-11" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-26" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-4" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-12" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-27" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-5" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-13" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
        <mxCell id="IRU-mzGsNd4VEneu7DZP-28" edge="1" parent="1" source="IRU-mzGsNd4VEneu7DZP-6" style="curved=1;startArrow=none;endArrow=block;exitX=0.5;exitY=1;entryX=0.5;entryY=0;rounded=0;" target="IRU-mzGsNd4VEneu7DZP-14" value="">
          <mxGeometry relative="1" as="geometry">
            <Array as="points" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="I5BgVuwCcVvqrSMmDwWr" name="authn_&amp;_anthz_sequence_diagram">
    <mxGraphModel dx="2109" dy="968" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="p5ackhj51L5jaJd7qhPY-1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="User" vertex="1">
          <mxGeometry height="7241" width="150" x="20" y="150" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Frontend&#xa;(Browser)" vertex="1">
          <mxGeometry height="7241" width="150" x="298" y="150" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Flask App&#xa;(app.py)" vertex="1">
          <mxGeometry height="7241" width="150" x="663" y="150" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Auth Middleware&#xa;(@token_required)" vertex="1">
          <mxGeometry height="7241" width="161" x="1023" y="150" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="AuthService&#xa;(JWT Operations)" vertex="1">
          <mxGeometry height="7241" width="150" x="1418" y="150" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-6" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="UserService&#xa;(User Management)" vertex="1">
          <mxGeometry height="7241" width="166" x="1810" y="150" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-7" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="SQLite DB&#xa;(auth.db)" vertex="1">
          <mxGeometry height="7241" width="150" x="2196" y="150" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-8" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="957" width="1820" x="84" y="860" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-9" parent="p5ackhj51L5jaJd7qhPY-8" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Password Valid]" vertex="1">
          <mxGeometry height="20" width="1790" x="30" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-10" parent="p5ackhj51L5jaJd7qhPY-8" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Password Invalid]" vertex="1">
          <mxGeometry height="3" width="1820" y="723" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-11" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="696" width="1133" x="84" y="3993" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-12" parent="p5ackhj51L5jaJd7qhPY-11" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[User Not Found/Inactive]" vertex="1">
          <mxGeometry height="20" width="1103" x="30" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-13" parent="p5ackhj51L5jaJd7qhPY-11" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[User Found and Active]" vertex="1">
          <mxGeometry height="3" width="1133" y="244" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-14" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="1438" width="2208" x="74" y="3261" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-15" parent="p5ackhj51L5jaJd7qhPY-14" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Token Invalid/Expired]" vertex="1">
          <mxGeometry height="20" width="2178" x="30" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-16" parent="p5ackhj51L5jaJd7qhPY-14" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Token Valid]" vertex="1">
          <mxGeometry height="3" width="2208" y="409" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-17" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="1963" width="2228" x="64" y="2746" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-18" parent="p5ackhj51L5jaJd7qhPY-17" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Token Missing]" vertex="1">
          <mxGeometry height="20" width="2198" x="30" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-19" parent="p5ackhj51L5jaJd7qhPY-17" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Token Present]" vertex="1">
          <mxGeometry height="3" width="2228" y="330" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-20" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="2458" width="2248" x="54" y="2261" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-21" parent="p5ackhj51L5jaJd7qhPY-20" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Auth Not Configured]" vertex="1">
          <mxGeometry height="20" width="2218" x="30" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-22" parent="p5ackhj51L5jaJd7qhPY-20" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Auth Configured]" vertex="1">
          <mxGeometry height="3" width="2248" y="244" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-23" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="362" width="375" x="84" y="6934" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-24" parent="p5ackhj51L5jaJd7qhPY-23" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[401 Response Received]" vertex="1">
          <mxGeometry height="20" width="345" x="30" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-25" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="Enter username &amp; password">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="243" y="309" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-26" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="POST /api/auth/login&#xa;{username, password}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="564" y="388" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-27" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-3" value="Validate request JSON">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="789" y="444" />
              <mxPoint x="789" y="474" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-28" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="authenticate_user(username, password)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1324" y="530" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-29" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-7" value="SELECT user WHERE username=?">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2091" y="586" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-30" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="User record (with password_hash)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2094" y="642" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-31" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="verify_password(password, password_hash)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1705" y="698" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-32" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="bcrypt.checkpw()">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1544" y="754" />
              <mxPoint x="1544" y="784" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-33" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="Password valid (true/false)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1702" y="840" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-34" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="User object (without password_hash)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1327" y="944" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-35" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="generate_token(user_id, username)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1124" y="1000" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-36" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="Create JWT payload&#xa;{user_id, username, exp, iat}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1544" y="1079" />
              <mxPoint x="1544" y="1109" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-37" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="jwt.encode(payload, secret_key, HS256)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1544" y="1165" />
              <mxPoint x="1544" y="1195" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-38" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="JWT Token">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1127" y="1251" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-39" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="200 OK&#xa;{token, user}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="567" y="1330" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-40" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="localStorage.setItem(&#39;token&#39;, token)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="1386" />
              <mxPoint x="424" y="1416" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-41" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="localStorage.setItem(&#39;user&#39;, user)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="1472" />
              <mxPoint x="424" y="1502" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-42" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Login successful">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="1558" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-43" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="None">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1327" y="1662" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-44" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="401 Unauthorized&#xa;{error: &quot;Invalid username or password&quot;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="567" y="1741" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-45" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Login failed">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="1797" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-46" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="Request protected resource&#xa;(e.g., POST /api/chat)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="243" y="1934" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-47" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Check localStorage for token">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="1990" />
              <mxPoint x="424" y="2020" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-48" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="Request with&#xa;Authorization: Bearer {token}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="564" y="2099" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-49" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="@token_required decorator intercepts">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="929" y="2155" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-50" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-4" value="Check if auth services available">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1154" y="2211" />
              <mxPoint x="1154" y="2241" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-51" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="503 Service Unavailable&#xa;{error: &quot;Authentication not configured&quot;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="932" y="2368" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-52" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="503 Error">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="567" y="2424" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-53" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Authentication error">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="2480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-54" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="extract_token_from_header(Authorization)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1307" y="2584" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-55" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="Parse &quot;Bearer {token}&quot;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1544" y="2640" />
              <mxPoint x="1544" y="2670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-56" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="Token string">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1310" y="2726" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-57" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="401 Unauthorized&#xa;{error: &quot;Authentication required&quot;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="932" y="2853" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-58" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="401 Error">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="567" y="2909" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-59" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Redirect to /login">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="2965" />
              <mxPoint x="424" y="2995" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-60" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Please login">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="3051" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-61" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="verify_token(token)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1307" y="3155" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-62" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-5" value="jwt.decode(token, secret_key, HS256)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1544" y="3211" />
              <mxPoint x="1544" y="3241" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-63" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="None (token invalid)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1310" y="3345" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-64" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="401 Unauthorized&#xa;{error: &quot;Invalid or expired token&quot;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="932" y="3424" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-65" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="401 Error">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="567" y="3480" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-66" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Clear localStorage&#xa;Redirect to /login">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="3559" />
              <mxPoint x="424" y="3589" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-67" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Session expired">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="3645" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-68" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="Payload {user_id, username, exp, iat}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1310" y="3749" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-69" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="get_user_by_id(user_id)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1507" y="3805" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-70" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-7" value="SELECT user WHERE id=? AND is_active=1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2091" y="3861" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-71" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="User record">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="2094" y="3917" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-72" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="User object">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1510" y="3973" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-73" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="401 Unauthorized&#xa;{error: &quot;User not found or inactive&quot;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="932" y="4100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-74" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="401 Error">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="567" y="4156" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-75" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Access denied">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="4212" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-76" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-4" value="Attach user to request&#xa;request.current_user = user">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1154" y="4339" />
              <mxPoint x="1154" y="4369" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-77" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="Continue to route handler">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="932" y="4425" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-78" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-3" value="Process request&#xa;(e.g., chat endpoint)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="789" y="4504" />
              <mxPoint x="789" y="4534" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-79" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="200 OK&#xa;{response data}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="567" y="4613" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-80" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Success response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="4669" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-81" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="Request user info&#xa;(GET /api/auth/me)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="243" y="4836" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-82" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="GET /api/auth/me&#xa;Authorization: Bearer {token}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="564" y="4915" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-83" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="@token_required decorator">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="929" y="4971" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-84" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="verify_token(token)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1307" y="5027" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-85" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="Valid payload">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1310" y="5083" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-86" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="get_user_by_id(user_id)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1507" y="5139" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-87" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="User object">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1510" y="5195" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-88" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-4" value="request.current_user = user">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1154" y="5251" />
              <mxPoint x="1154" y="5281" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-89" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="Continue">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="932" y="5337" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-90" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-3" value="get_current_user()">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="789" y="5393" />
              <mxPoint x="789" y="5423" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-91" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-3" value="Return request.current_user">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="789" y="5479" />
              <mxPoint x="789" y="5509" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-92" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="200 OK&#xa;{user: {...}}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="567" y="5588" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-93" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Update localStorage with user info">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="5644" />
              <mxPoint x="424" y="5674" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-94" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="User information displayed">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="5730" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-95" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="Click logout">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="243" y="5834" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-96" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="POST /api/auth/logout&#xa;Authorization: Bearer {token}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="564" y="5913" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-97" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="@token_required decorator">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="929" y="5969" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-98" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-5" value="verify_token(token)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1307" y="6025" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-99" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="Valid payload">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1310" y="6081" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-100" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-6" value="get_user_by_id(user_id)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1507" y="6137" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-101" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-4" value="User object">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1510" y="6193" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-102" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-3" value="Continue">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="932" y="6249" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-103" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-2" value="200 OK&#xa;{success: true, message: &quot;Logged out&quot;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="567" y="6328" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-104" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="localStorage.removeItem(&#39;token&#39;)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="6384" />
              <mxPoint x="424" y="6414" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-105" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="localStorage.removeItem(&#39;user&#39;)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="6470" />
              <mxPoint x="424" y="6500" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-106" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="window.location.href = &#39;/login&#39;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="6556" />
              <mxPoint x="424" y="6586" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-107" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Redirected to login page">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="6642" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-108" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Override window.fetch()&#xa;Add Authorization header if token exists">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="6836" />
              <mxPoint x="424" y="6866" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-109" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Detect 401 status">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="7018" />
              <mxPoint x="424" y="7048" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-110" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Clear localStorage">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="7104" />
              <mxPoint x="424" y="7134" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-111" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="curved=1;endArrow=block;rounded=0;" target="p5ackhj51L5jaJd7qhPY-2" value="Redirect to /login">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="424" y="7190" />
              <mxPoint x="424" y="7220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-112" edge="1" parent="1" source="p5ackhj51L5jaJd7qhPY-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="p5ackhj51L5jaJd7qhPY-1" value="Session expired notification">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="7276" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-113" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== LOGIN FLOW ==========" vertex="1">
          <mxGeometry height="48" width="2226" x="70" y="225" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-114" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== PROTECTED ENDPOINT ACCESS ==========" vertex="1">
          <mxGeometry height="48" width="2226" x="70" y="1827" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-115" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== GET CURRENT USER INFO ==========" vertex="1">
          <mxGeometry height="48" width="2226" x="70" y="4729" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-116" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== LOGOUT FLOW ==========" vertex="1">
          <mxGeometry height="48" width="2226" x="70" y="5750" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-117" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== AUTO-TOKEN INJECTION ==========" vertex="1">
          <mxGeometry height="48" width="2226" x="70" y="6662" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-118" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Frontend automatically adds token&#xa;to all /api/* requests (except /api/auth/login)" vertex="1">
          <mxGeometry height="67" width="351" x="198" y="6710" as="geometry" />
        </mxCell>
        <mxCell id="p5ackhj51L5jaJd7qhPY-119" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="========== ERROR HANDLING ==========" vertex="1">
          <mxGeometry height="48" width="2226" x="70" y="6886" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="SP40UGb1rlbrNN1btHVa" name="user_login_flow_diagram">
    <mxGraphModel dx="1793" dy="823" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-62" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="User" vertex="1">
          <mxGeometry height="1192" width="150" x="50" y="330" as="geometry" />
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-63" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Frontend" vertex="1">
          <mxGeometry height="1192" width="150" x="346" y="330" as="geometry" />
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-64" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Flask App" vertex="1">
          <mxGeometry height="1192" width="150" x="697" y="330" as="geometry" />
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-65" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="UserService" vertex="1">
          <mxGeometry height="1192" width="150" x="1068" y="330" as="geometry" />
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-66" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="AuthService" vertex="1">
          <mxGeometry height="1192" width="150" x="1387" y="330" as="geometry" />
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-67" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Database" vertex="1">
          <mxGeometry height="1192" width="150" x="1587" y="330" as="geometry" />
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-68" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="630" width="1359" x="114" y="797" as="geometry" />
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-69" parent="EZzGvkTzl0ZU9KsnqAzF-68" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Password Valid]" vertex="1">
          <mxGeometry height="20" width="1329" x="30" as="geometry" />
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-70" parent="EZzGvkTzl0ZU9KsnqAzF-68" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Password Invalid]" vertex="1">
          <mxGeometry height="3" width="1359" y="419" as="geometry" />
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-71" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-62" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-63" value="Enter username and password">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="282" y="441" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-72" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-63" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-64" value="POST /api/auth/login with credentials">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="605" y="497" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-73" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-64" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-65" value="authenticate_user(username, password)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="966" y="553" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-74" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-65" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-67" value="SELECT user WHERE username">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1411" y="609" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-75" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-67" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-65" value="User record">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1414" y="665" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-76" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-65" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-66" value="verify_password(password, hash)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1311" y="721" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-77" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-66" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-65" value="Password valid">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1314" y="777" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-78" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-65" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-64" value="User object">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="969" y="881" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-79" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-64" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-66" value="generate_token(user_id, username)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1126" y="937" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-80" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-66" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-64" value="JWT Token">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1129" y="993" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-81" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-64" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-63" value="200 OK with token and user">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="608" y="1049" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-82" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-63" style="curved=1;endArrow=block;rounded=0;" target="EZzGvkTzl0ZU9KsnqAzF-63" value="Store token in localStorage">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="472" y="1105" />
              <mxPoint x="472" y="1135" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-83" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-63" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-62" value="Login successful">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="285" y="1191" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-84" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-65" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-64" value="None">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="969" y="1295" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-85" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-64" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-63" value="401 Unauthorized">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="608" y="1351" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="EZzGvkTzl0ZU9KsnqAzF-86" edge="1" parent="1" source="EZzGvkTzl0ZU9KsnqAzF-63" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="EZzGvkTzl0ZU9KsnqAzF-62" value="Login failed">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="285" y="1407" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="A1-dbM-fF7nYGfB8EBfM" name="coze-agent-integration">
    <mxGraphModel dx="1554" dy="823" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="fUgwGYFONLuV4hLPRPg7-1" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="User" vertex="1">
          <mxGeometry height="3854" width="150" x="20" y="20" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-2" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="WebUI" vertex="1">
          <mxGeometry height="3854" width="150" x="305" y="20" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-3" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="FlaskApp" vertex="1">
          <mxGeometry height="3854" width="150" x="582" y="20" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-4" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Chatbot" vertex="1">
          <mxGeometry height="3854" width="150" x="829" y="20" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-5" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="LangGraph Agent" vertex="1">
          <mxGeometry height="3854" width="150" x="1078" y="20" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-6" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Intent Detection" vertex="1">
          <mxGeometry height="3854" width="150" x="1309" y="20" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-7" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Coze Client" vertex="1">
          <mxGeometry height="3854" width="150" x="1509" y="20" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-8" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Coze Platform API" vertex="1">
          <mxGeometry height="3854" width="153" x="1846" y="20" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-9" parent="1" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;container=1;dropTarget=0;collapsible=0;recursiveResize=0;outlineConnect=0;portConstraint=eastwest;newEdgeStyle={&quot;edgeStyle&quot;:&quot;elbowEdgeStyle&quot;,&quot;elbow&quot;:&quot;vertical&quot;,&quot;curved&quot;:0,&quot;rounded&quot;:0};size=65;" value="Memory Manager" vertex="1">
          <mxGeometry height="3854" width="150" x="2049" y="20" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-10" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=40" value="loop" vertex="1">
          <mxGeometry height="243" width="433" x="1500" y="1174" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-11" parent="fUgwGYFONLuV4hLPRPg7-10" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Stream Events]" vertex="1">
          <mxGeometry height="20" width="393" x="40" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-12" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="574" width="453" x="1490" y="1126" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-13" parent="fUgwGYFONLuV4hLPRPg7-12" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Streaming Mode]" vertex="1">
          <mxGeometry height="20" width="423" x="30" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-14" parent="fUgwGYFONLuV4hLPRPg7-12" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Non-Streaming Mode]" vertex="1">
          <mxGeometry height="3" width="453" y="385" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-15" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="854" width="1849" x="84" y="2057" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-16" parent="fUgwGYFONLuV4hLPRPg7-15" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Authentication Error (401)]" vertex="1">
          <mxGeometry height="20" width="1819" x="30" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-17" parent="fUgwGYFONLuV4hLPRPg7-15" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Bot Not Found (404)]" vertex="1">
          <mxGeometry height="3" width="1849" y="244" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-18" parent="fUgwGYFONLuV4hLPRPg7-15" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Timeout]" vertex="1">
          <mxGeometry height="3" width="1849" y="483" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-19" parent="fUgwGYFONLuV4hLPRPg7-15" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Other Error]" vertex="1">
          <mxGeometry height="3" width="1849" y="643" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-20" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="1211" width="1869" x="74" y="1710" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-21" parent="fUgwGYFONLuV4hLPRPg7-20" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Success]" vertex="1">
          <mxGeometry height="20" width="1839" x="30" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-22" parent="fUgwGYFONLuV4hLPRPg7-20" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Error]" vertex="1">
          <mxGeometry height="3" width="1869" y="304" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-23" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="2226" width="1960" x="64" y="705" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-24" parent="fUgwGYFONLuV4hLPRPg7-23" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Coze Not Configured]" vertex="1">
          <mxGeometry height="20" width="1930" x="30" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-25" parent="fUgwGYFONLuV4hLPRPg7-23" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Coze Configured]" vertex="1">
          <mxGeometry height="3" width="1960" y="109" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-26" parent="1" style="shape=umlFrame;dashed=1;pointerEvents=0;dropTarget=0;strokeColor=#B3B3B3;height=20;width=30" value="alt" vertex="1">
          <mxGeometry height="2953" width="1980" x="54" y="444" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-27" parent="fUgwGYFONLuV4hLPRPg7-26" style="text;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;" value="[Intent: Coze Agent&#xa;(&quot;AI daily report&quot; or &quot;AI news&quot;)]" vertex="1">
          <mxGeometry height="20" width="1950" x="30" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-28" parent="fUgwGYFONLuV4hLPRPg7-26" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: General Chat]" vertex="1">
          <mxGeometry height="22" width="1980" y="2502" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-29" parent="fUgwGYFONLuV4hLPRPg7-26" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: RAG Query]" vertex="1">
          <mxGeometry height="22" width="1980" y="2654" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-30" parent="fUgwGYFONLuV4hLPRPg7-26" style="shape=line;dashed=1;whiteSpace=wrap;verticalAlign=top;labelPosition=center;verticalLabelPosition=middle;align=center;strokeColor=#B3B3B3;" value="[Intent: Tool Execution]" vertex="1">
          <mxGeometry height="22" width="1980" y="2806" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-31" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-1" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-2" value="Send Message&#xa;&quot;AI daily report&quot; or &quot;AI news&quot;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="246" y="154" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-32" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-3" value="POST /api/chat&#xa;{message, model}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="527" y="233" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-33" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-4" value="get_response(message)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="789" y="289" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-34" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Process with LangGraph">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1037" y="345" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-35" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-6" value="Detect Intent&#xa;(keyword matching)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1277" y="424" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-36" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Intent = &quot;coze_agent&quot;">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1280" y="551" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-37" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="curved=1;endArrow=block;rounded=0;" target="fUgwGYFONLuV4hLPRPg7-5" value="Route to coze_agent node">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1204" y="607" />
              <mxPoint x="1204" y="637" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-38" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error: Coze agent not configured">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="636" y="789" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-39" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="execute_agent(query, user_id, conversation_id)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1377" y="893" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-40" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-8" value="chat.stream()&#xa;or chat.create()">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1762" y="1039" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-41" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="CONVERSATION_MESSAGE_DELTA&#xa;(content chunks)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1765" y="1281" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-42" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="curved=1;endArrow=block;rounded=0;" target="fUgwGYFONLuV4hLPRPg7-7" value="Accumulate content">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1635" y="1337" />
              <mxPoint x="1635" y="1367" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-43" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="CONVERSATION_CHAT_COMPLETED&#xa;(final status, token usage)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1765" y="1486" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-44" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="Chat object&#xa;(status, messages)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1765" y="1613" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-45" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="curved=1;endArrow=block;rounded=0;" target="fUgwGYFONLuV4hLPRPg7-7" value="Extract response content&#xa;from messages">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1635" y="1817" />
              <mxPoint x="1635" y="1847" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-46" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: true, response, conversation_id}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1380" y="1903" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-47" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="curved=1;endArrow=block;rounded=0;" target="fUgwGYFONLuV4hLPRPg7-5" value="Add response to messages">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1204" y="1959" />
              <mxPoint x="1204" y="1989" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-48" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="Error code=4101&#xa;Invalid token">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1765" y="2164" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-49" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: false, error_type: &quot;auth_error&quot;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1380" y="2220" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-50" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error: Check COZE_API_TOKEN">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="636" y="2276" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-51" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="Error code=4200&#xa;Bot does not exist">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1765" y="2403" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-52" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: false, error_type: &quot;not_found_error&quot;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1380" y="2459" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-53" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error: Check COZE_BOT_ID and API region">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="636" y="2515" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-54" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: false, error_type: &quot;timeout&quot;}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1380" y="2619" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-55" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error: Request timed out (300s)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="636" y="2675" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-56" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-8" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-7" value="Error response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1765" y="2779" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-57" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-7" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="{success: false, error, error_type}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1380" y="2835" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-58" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Error message">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="636" y="2891" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-59" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Route to LLM">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1280" y="3025" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-60" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Route to RAG">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1280" y="3177" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-61" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-6" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Route to Tools">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1280" y="3329" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-62" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-9" value="Save Conversation&#xa;(if successful)">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1647" y="3466" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-63" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-9" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-5" value="Saved">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1650" y="3522" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-64" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-5" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-4" value="Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1040" y="3578" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-65" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-4" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-3" value="Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="792" y="3634" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-66" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-3" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-2" value="JSON Response&#xa;{response, conversation_id}">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="530" y="3713" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-67" edge="1" parent="1" source="fUgwGYFONLuV4hLPRPg7-2" style="verticalAlign=bottom;edgeStyle=elbowEdgeStyle;elbow=vertical;curved=0;rounded=0;dashed=1;dashPattern=2 3;endArrow=block;" target="fUgwGYFONLuV4hLPRPg7-1" value="Display Response">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="249" y="3769" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-68" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Check COZE_ENABLED config" vertex="1">
          <mxGeometry height="48" width="239" x="1034" y="657" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-69" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Initialize cozepy SDK&#xa;with TokenAuth" vertex="1">
          <mxGeometry height="67" width="174" x="1497" y="913" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-70" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Bot processes request&#xa;Status: IN_PROGRESS" vertex="1">
          <mxGeometry height="67" width="183" x="1831" y="1059" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-71" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Extract messages&#xa;from conversation" vertex="1">
          <mxGeometry height="67" width="156" x="1506" y="1633" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-72" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Standard LLM flow" vertex="1">
          <mxGeometry height="48" width="158" x="1074" y="3045" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-73" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="RAG flow" vertex="1">
          <mxGeometry height="48" width="150" x="1078" y="3197" as="geometry" />
        </mxCell>
        <mxCell id="fUgwGYFONLuV4hLPRPg7-74" parent="1" style="fillColor=#ffff88;strokeColor=#9E916F;" value="Tool execution flow" vertex="1">
          <mxGeometry height="48" width="165" x="1071" y="3349" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
